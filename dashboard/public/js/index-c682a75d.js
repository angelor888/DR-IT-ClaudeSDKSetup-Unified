import{u as Mn,r as I,j as c,h as Fo,b as g,c as Yo}from"./react-vendor-4efa36ba.js";import{d as mu,c as ci,a as ke,e as lr,f as pu,b as ua,o as gu}from"./index-46094aae.js";import{g as yr,u as Wo,f as yu}from"./customer.types-54d83b7b.js";import{a2 as X,ap as me,Q as U,h as ae,aZ as bu,aC as wu,aD as zo,aE as ss,P as hn,r as Me,I as Su,aF as _u,aG as Du,ab as xu,p as ye,a_ as is,j as Fe,g as Ho,aW as os,az as Tu,T as an,k as ot,aH as Uo,aX as Go,aJ as Ou,aK as Eu,C as zt,am as Xe,an as gt,ao as Ne,A as da,aL as ne,b as vr,d as mr,S as pr,J as ui,F as Mu,n as $u,aO as Vo,D as Ca,a$ as Cu,a3 as ju,aR as ku,K as Au,O as fa,aS as di,b0 as Pu,aT as Ru,X as Iu,Y as Nu,q as Lu,L as Fu,Z as ja,as as ka,$ as Aa,W as Pa,b1 as fi,b2 as Yu,b3 as Wu,b4 as zu,b5 as Hu,b6 as Uu,b7 as Gu,b8 as Vu,b9 as Ju,ba as qu,bb as Bu,aq as Ku,bc as Xu,bd as Zu,be as Qu,bf as ed,bg as td,bh as rd,bi as nd}from"./mui-core-7e03cde4.js";import{a7 as ad,a8 as Jo,_ as $n,a9 as Cn,a as we,P as k}from"./data-grid-96170eaf.js";import{u as sd,b as id,C as Te}from"./forms-f7b38fbf.js";import{D as hi,_ as od,d as ld,f as cd,g as ud,h as dd}from"./date-vendor-851aa985.js";import{g as qe,b as Xr}from"./charts-b91b7911.js";import"./redux-vendor-908b6ad6.js";import"./websocket-d9998155.js";const fd=mu.injectEndpoints({endpoints:e=>({getJobList:e.query({query:t=>({url:"jobs",params:t}),providesTags:t=>t?[...t.jobs.map(({id:r})=>({type:"Job",id:r})),{type:"Job",id:"LIST"}]:[{type:"Job",id:"LIST"}]}),getJobDetails:e.query({query:t=>`jobs/${t}`,providesTags:(t,r,n)=>[{type:"Job",id:n}]}),createJob:e.mutation({query:t=>({url:"jobs",method:"POST",body:t}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobStats"}]}),updateJob:e.mutation({query:({id:t,data:r})=>({url:`jobs/${t}`,method:"PUT",body:r}),invalidatesTags:(t,r,{id:n})=>[{type:"Job",id:n},{type:"Job",id:"LIST"},{type:"JobStats"}]}),updateJobStatus:e.mutation({query:({id:t,status:r,notes:n})=>({url:`jobs/${t}/status`,method:"PATCH",body:{status:r,notes:n}}),invalidatesTags:(t,r,{id:n})=>[{type:"Job",id:n},{type:"Job",id:"LIST"},{type:"JobStats"}]}),archiveJob:e.mutation({query:({id:t,isArchived:r})=>({url:`jobs/${t}/archive`,method:"PATCH",body:{isArchived:r}}),invalidatesTags:(t,r,{id:n})=>[{type:"Job",id:n},{type:"Job",id:"LIST"},{type:"JobStats"}]}),deleteJob:e.mutation({query:t=>({url:`jobs/${t}`,method:"DELETE"}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobStats"}]}),duplicateJob:e.mutation({query:({id:t,title:r})=>({url:`jobs/${t}/duplicate`,method:"POST",body:{title:r}}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobStats"}]}),rescheduleJob:e.mutation({query:({id:t,startAt:r,endAt:n})=>({url:`jobs/${t}/reschedule`,method:"PATCH",body:{startAt:r,endAt:n}}),invalidatesTags:(t,r,{id:n})=>[{type:"Job",id:n},{type:"Job",id:"LIST"},{type:"JobCalendar"}]}),getJobsForCalendar:e.query({query:({start:t,end:r,filters:n})=>({url:"jobs/calendar",params:{start:t,end:r,...n}}),providesTags:["JobCalendar"]}),getJobStats:e.query({query:t=>({url:"jobs/stats",params:t}),providesTags:["JobStats"]}),getJobTemplates:e.query({query:()=>"jobs/templates",providesTags:["JobTemplate"]}),createJobFromTemplate:e.mutation({query:({templateId:t,customerId:r,overrides:n})=>({url:`jobs/templates/${t}/create`,method:"POST",body:{customerId:r,...n}}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobStats"}]}),updateJobMilestone:e.mutation({query:({jobId:t,milestoneId:r,data:n})=>({url:`jobs/${t}/milestones/${r}`,method:"PATCH",body:n}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n}]}),createJobVisit:e.mutation({query:({jobId:t,visit:r})=>({url:`jobs/${t}/visits`,method:"POST",body:r}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n},{type:"JobCalendar"}]}),updateJobVisit:e.mutation({query:({jobId:t,visitId:r,data:n})=>({url:`jobs/${t}/visits/${r}`,method:"PATCH",body:n}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n},{type:"JobCalendar"}]}),deleteJobVisit:e.mutation({query:({jobId:t,visitId:r})=>({url:`jobs/${t}/visits/${r}`,method:"DELETE"}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n},{type:"JobCalendar"}]}),syncJobWithJobber:e.mutation({query:t=>({url:`jobs/${t}/sync-jobber`,method:"POST"}),invalidatesTags:(t,r,n)=>[{type:"Job",id:n}]}),syncAllJobsWithJobber:e.mutation({query:()=>({url:"jobs/sync-jobber",method:"POST"}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobSync"}]}),getJobSyncStatus:e.query({query:()=>"jobs/sync-status",providesTags:["JobSync"]}),bulkUpdateJobs:e.mutation({query:({jobIds:t,updates:r})=>({url:"jobs/bulk-update",method:"PATCH",body:{jobIds:t,updates:r}}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobStats"}]}),bulkDeleteJobs:e.mutation({query:t=>({url:"jobs/bulk-delete",method:"DELETE",body:{jobIds:t}}),invalidatesTags:[{type:"Job",id:"LIST"},{type:"JobStats"}]}),searchJobs:e.query({query:({query:t,limit:r=10})=>({url:"jobs/search",params:{q:t,limit:r}})}),exportJobs:e.query({query:t=>({url:"jobs/export",params:{...t,format:"csv"},responseHandler:r=>r.blob()})}),getJobTags:e.query({query:()=>"jobs/tags",providesTags:["JobTags"]}),getJobCategories:e.query({query:()=>"jobs/categories",providesTags:["JobCategories"]}),addJobNote:e.mutation({query:({jobId:t,note:r,isInternal:n=!1})=>({url:`jobs/${t}/notes`,method:"POST",body:{note:r,isInternal:n}}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n}]}),startJobTimer:e.mutation({query:({jobId:t,userId:r})=>({url:`jobs/${t}/timer/start`,method:"POST",body:{userId:r}}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n}]}),stopJobTimer:e.mutation({query:({jobId:t,timerId:r})=>({url:`jobs/${t}/timer/stop`,method:"POST",body:{timerId:r}}),invalidatesTags:(t,r,{jobId:n})=>[{type:"Job",id:n}]})})}),{useGetJobListQuery:hd,useGetJobDetailsQuery:qo,useCreateJobMutation:vd,useUpdateJobMutation:md,useUpdateJobStatusMutation:ls,useArchiveJobMutation:pd,useDeleteJobMutation:gd,useDuplicateJobMutation:yd,useRescheduleJobMutation:Bo,useGetJobsForCalendarQuery:bd,useGetJobStatsQuery:gj,useGetJobTemplatesQuery:wd,useCreateJobFromTemplateMutation:yj,useUpdateJobMilestoneMutation:bj,useCreateJobVisitMutation:wj,useUpdateJobVisitMutation:Sj,useDeleteJobVisitMutation:_j,useSyncJobWithJobberMutation:Sd,useSyncAllJobsWithJobberMutation:Dj,useGetJobSyncStatusQuery:xj,useBulkUpdateJobsMutation:Tj,useBulkDeleteJobsMutation:Oj,useSearchJobsQuery:Ej,useLazyExportJobsQuery:Mj,useGetJobTagsQuery:_d,useGetJobCategoriesQuery:Dd,useAddJobNoteMutation:xd,useStartJobTimerMutation:$j,useStopJobTimerMutation:Cj}=fd,Ra=e=>{switch(e){case"active":return"#2196f3";case"completed":return"#4caf50";case"cancelled":return"#f44336";case"on_hold":return"#ff9800";case"archived":return"#9e9e9e";default:return"#757575"}},Ia=e=>{switch(e){case"low":return"#4caf50";case"medium":return"#ff9800";case"high":return"#f44336";case"urgent":return"#e91e63";default:return"#757575"}},vi=e=>`${e.jobNumber} - ${e.title}`,Ko=e=>{if(e.status==="completed")return 100;if(e.status==="cancelled"||e.status==="archived")return 0;if(e.milestones&&e.milestones.length>0){const t=e.milestones.filter(r=>r.status==="completed").length;return Math.round(t/e.milestones.length*100)}return e.progressPercentage||0},Xo=e=>{if(!e)return"Not specified";const t=Math.floor(e/60),r=e%60;return t===0?`${r}m`:r===0?`${t}h`:`${t}h ${r}m`},br=e=>!e.endAt||e.status==="completed"||e.status==="cancelled"?!1:new Date(e.endAt)<new Date,Td=e=>{let t=0;switch(e.priority){case"urgent":t+=40;break;case"high":t+=30;break;case"medium":t+=20;break;case"low":t+=10;break}if(br(e)&&(t+=30),e.startAt){const r=new Date(e.startAt),n=new Date,a=Math.ceil((r.getTime()-n.getTime())/(1e3*3600*24));a<=1?t+=20:a<=3?t+=15:a<=7&&(t+=10)}return t},jj=()=>{const e=Mn(),[t,r]=I.useState({page:1,limit:25,sortBy:"updatedAt",sortOrder:"desc"}),[n,a]=I.useState(""),[s,i]=I.useState(null),[o,l]=I.useState(null),{data:u,isLoading:f,isFetching:h}=hd(t),[d]=ls(),[v]=pd();Bo();const p=I.useCallback(_=>{a(_.target.value)},[]),m=I.useCallback(()=>{r(_=>({..._,search:n,page:1}))},[n]),y=I.useCallback(async(_,E)=>{try{await d({id:_,status:E}).unwrap()}catch(M){console.error("Failed to update job status:",M)}},[d]),w=I.useCallback(async(_,E)=>{try{await v({id:_,isArchived:!E}).unwrap()}catch(M){console.error("Failed to toggle archive status:",M)}},[v]),S=(_,E)=>{i(_.currentTarget),l(E)},x=()=>{i(null),l(null)},b=_=>{const M={active:{label:"Active",color:"primary"},completed:{label:"Completed",color:"success"},cancelled:{label:"Cancelled",color:"error"},on_hold:{label:"On Hold",color:"warning"},archived:{label:"Archived",color:"default"}}[_];return c.jsx(Fe,{label:M.label,color:M.color,size:"small"})},O=_=>{const M={low:{label:"Low",color:"success",variant:"outlined"},medium:{label:"Medium",color:"warning",variant:"outlined"},high:{label:"High",color:"error",variant:"outlined"},urgent:{label:"Urgent",color:"error",variant:"filled"}}[_];return c.jsx(Fe,{label:M.label,color:M.color,size:"small",variant:M.variant})},A=[{field:"jobNumber",headerName:"Job #",width:120,renderCell:_=>c.jsx(U,{variant:"body2",fontWeight:"medium",children:_.row.jobNumber})},{field:"title",headerName:"Title",flex:1,minWidth:200,renderCell:_=>c.jsxs(X,{children:[c.jsx(U,{variant:"body2",fontWeight:"medium",noWrap:!0,children:_.row.title}),_.row.description&&c.jsx(U,{variant:"caption",color:"text.secondary",noWrap:!0,children:_.row.description})]})},{field:"customer",headerName:"Customer",width:180,renderCell:_=>c.jsxs(X,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(is,{fontSize:"small",color:"action"}),c.jsx(U,{variant:"body2",noWrap:!0,children:_.row.customer?yr(_.row.customer):"No Customer"})]})},{field:"status",headerName:"Status",width:110,renderCell:_=>b(_.row.status)},{field:"priority",headerName:"Priority",width:100,renderCell:_=>O(_.row.priority)},{field:"progress",headerName:"Progress",width:120,renderCell:_=>{const E=Ko(_.row);return c.jsxs(X,{width:"100%",children:[c.jsxs(X,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5,children:[c.jsxs(U,{variant:"caption",children:[E,"%"]}),br(_.row)&&c.jsx(Fe,{label:"Overdue",color:"error",size:"small",variant:"outlined"})]}),c.jsx(Ho,{variant:"determinate",value:E})]})}},{field:"startAt",headerName:"Start Date",width:130,renderCell:_=>c.jsxs(X,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(os,{fontSize:"small",color:"action"}),c.jsx(U,{variant:"body2",children:_.row.startAt?new Date(_.row.startAt).toLocaleDateString():"Not scheduled"})]})},{field:"total",headerName:"Value",width:100,renderCell:_=>c.jsxs(X,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(Tu,{fontSize:"small",color:"action"}),c.jsxs(U,{variant:"body2",fontWeight:"medium",children:["$",_.row.total.toLocaleString()]})]})},{field:"estimatedDuration",headerName:"Duration",width:100,renderCell:_=>c.jsx(U,{variant:"body2",children:Xo(_.row.estimatedDuration)})},{field:"tags",headerName:"Tags",width:150,renderCell:_=>{var E;return c.jsxs(me,{direction:"row",spacing:.5,children:[(E=_.row.tags)==null?void 0:E.slice(0,2).map((M,N)=>c.jsx(Fe,{label:M,size:"small",variant:"outlined"},N)),_.row.tags&&_.row.tags.length>2&&c.jsxs(U,{variant:"caption",color:"text.secondary",children:["+",_.row.tags.length-2]})]})}},{field:"actions",headerName:"Actions",width:150,sortable:!1,renderCell:_=>c.jsxs(me,{direction:"row",spacing:1,children:[c.jsx(an,{title:"Edit",children:c.jsx(ot,{size:"small",onClick:()=>e(`/jobs/${_.row.id}/edit`),children:c.jsx(Uo,{fontSize:"small"})})}),_.row.status==="active"&&c.jsx(an,{title:"Complete",children:c.jsx(ot,{size:"small",color:"success",onClick:()=>y(_.row.id,"completed"),children:c.jsx(Go,{fontSize:"small"})})}),c.jsx(an,{title:_.row.status==="archived"?"Unarchive":"Archive",children:c.jsx(ot,{size:"small",onClick:()=>w(_.row.id,_.row.status==="archived"),children:c.jsx(Ou,{fontSize:"small"})})}),c.jsx(ot,{size:"small",onClick:E=>S(E,_.row.id),children:c.jsx(Eu,{fontSize:"small"})})]})}];return c.jsxs(X,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[c.jsxs(me,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[c.jsx(U,{variant:"h4",component:"h1",children:"Jobs"}),c.jsxs(me,{direction:"row",spacing:2,children:[c.jsx(ae,{startIcon:c.jsx(bu,{}),variant:"outlined",onClick:()=>e("/jobs/calendar"),children:"Calendar"}),c.jsx(ae,{startIcon:c.jsx(wu,{}),variant:"outlined",onClick:()=>e("/jobs/export"),children:"Export"}),c.jsx(ae,{startIcon:c.jsx(zo,{}),variant:"outlined",onClick:()=>e("/jobs/sync"),children:"Sync"}),c.jsx(ae,{startIcon:c.jsx(ss,{}),variant:"contained",onClick:()=>e("/jobs/new"),children:"Add Job"})]})]}),c.jsx(hn,{sx:{mb:2,p:2},children:c.jsxs(me,{direction:"row",spacing:2,alignItems:"center",children:[c.jsx(Me,{size:"small",placeholder:"Search jobs...",value:n,onChange:p,onKeyPress:_=>_.key==="Enter"&&m(),InputProps:{startAdornment:c.jsx(Su,{position:"start",children:c.jsx(_u,{})})},sx:{flexGrow:1,maxWidth:400}}),c.jsx(ae,{startIcon:c.jsx(Du,{}),variant:"outlined",size:"small",onClick:()=>e("/jobs/filters"),children:"Filters"})]})}),c.jsx(hn,{sx:{flex:1,display:"flex",flexDirection:"column"},children:c.jsx(ad,{rows:(u==null?void 0:u.jobs)||[],columns:A,rowCount:(u==null?void 0:u.total)||0,loading:f||h,pageSizeOptions:[10,25,50,100],paginationModel:{page:t.page?t.page-1:0,pageSize:t.limit||25},onPaginationModelChange:_=>{r(E=>({...E,page:_.page+1,limit:_.pageSize}))},onSortModelChange:_=>{_.length>0&&r(E=>({...E,sortBy:_[0].field,sortOrder:_[0].sort||"asc"}))},disableRowSelectionOnClick:!0,onRowClick:_=>e(`/jobs/${_.row.id}`),getRowClassName:_=>Td(_.row)>=50?"urgent-job":br(_.row)?"overdue-job":"",sx:{"& .MuiDataGrid-row":{cursor:"pointer"},"& .urgent-job":{backgroundColor:"rgba(244, 67, 54, 0.04)"},"& .overdue-job":{backgroundColor:"rgba(255, 152, 0, 0.04)"}}})}),c.jsxs(xu,{anchorEl:s,open:!!s,onClose:x,children:[c.jsx(ye,{onClick:()=>{e(`/jobs/${o}`),x()},children:"View Details"}),c.jsx(ye,{onClick:()=>{e(`/jobs/${o}/duplicate`),x()},children:"Duplicate Job"}),c.jsx(ye,{onClick:()=>{e(`/jobs/${o}/visits`),x()},children:"Manage Visits"}),c.jsx(ye,{onClick:()=>{e(`/jobs/${o}/sync`),x()},children:"Sync with Jobber"})]})]})},Od=ci({title:ke().required("Job title is required"),description:ke().optional(),customerId:ke().required("Customer is required"),propertyId:ke().optional(),priority:ke().oneOf(["low","medium","high","urgent"]).required("Priority is required"),category:ke().optional(),startAt:ke().optional(),endAt:ke().optional(),estimatedDuration:lr().optional().min(0,"Duration must be positive"),allDay:pu().optional(),lineItems:ua().of(ci({name:ke().required("Item name is required"),description:ke().optional(),quantity:lr().required("Quantity is required").min(1,"Quantity must be at least 1"),unitPrice:lr().required("Unit price is required").min(0,"Price must be positive"),total:lr().required()})).optional(),taxRate:lr().optional().min(0,"Tax rate must be positive").max(100,"Tax rate cannot exceed 100%"),tags:ua().of(ke().required()).optional(),notes:ke().optional(),internalNotes:ke().optional(),source:ke().oneOf(["website","phone","referral","jobber","manual"]).optional(),visits:ua().optional()}),kj=()=>{const e=Mn(),{id:t}=Fo(),r=!!t,[n,a]=I.useState(""),{data:s,isLoading:i}=qo(t,{skip:!r}),{data:o}=Wo({limit:100}),{data:l}=wd(),{data:u}=Dd(),{data:f}=_d(),[h,{isLoading:d}]=vd(),[v,{isLoading:p}]=md(),{control:m,handleSubmit:y,reset:w,watch:S,setValue:x,formState:{errors:b,isDirty:O}}=sd({resolver:gu(Od),defaultValues:{title:"",description:"",customerId:"",priority:"medium",category:"",estimatedDuration:0,allDay:!1,lineItems:[],taxRate:0,tags:[],notes:"",internalNotes:"",source:"manual",visits:[]}}),{fields:A,append:_,remove:E}=id({control:m,name:"lineItems"}),M=S("lineItems"),N=S("taxRate");I.useEffect(()=>{var D;s&&r&&(w({title:s.title,description:s.description||"",customerId:s.customerId,propertyId:((D=s.property)==null?void 0:D.id)||"",priority:s.priority,category:s.category||"",startAt:s.startAt||"",endAt:s.endAt||"",estimatedDuration:s.estimatedDuration||0,allDay:!1,lineItems:s.lineItems||[],taxRate:s.taxAmount&&s.subtotal?s.taxAmount/s.subtotal*100:0,tags:s.tags||[],notes:s.notes||"",internalNotes:s.internalNotes||"",source:s.source||"manual",visits:s.visits||[]}),a(s.customerId))},[s,r,w]),I.useEffect(()=>{M&&M.forEach((D,j)=>{if(D&&typeof D.quantity=="number"&&typeof D.unitPrice=="number"){const B=D.quantity*D.unitPrice;x(`lineItems.${j}.total`,B)}})},[M,x]);const F=()=>(M==null?void 0:M.reduce((D,j)=>D+((j==null?void 0:j.total)||0),0))||0,V=()=>F()*((N||0)/100),Y=()=>F()+V(),q=async D=>{try{const j={...D,estimatedDuration:D.estimatedDuration||void 0,startAt:D.startAt||void 0,endAt:D.endAt||void 0};r?await v({id:t,data:j}).unwrap():await h(j).unwrap(),e("/jobs")}catch(j){console.error("Failed to save job:",j)}},z=()=>{_({name:"",description:"",quantity:1,unitPrice:0,total:0})},J=D=>{const j=l==null?void 0:l.find(B=>B.id===D);j&&(x("title",j.name),x("category",j.category),x("estimatedDuration",j.estimatedDuration),x("tags",j.tags),x("lineItems",j.defaultLineItems))};return i?c.jsx(X,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:c.jsx(zt,{})}):c.jsxs(X,{children:[c.jsx(U,{variant:"h4",component:"h1",gutterBottom:!0,children:r?"Edit Job":"Create New Job"}),c.jsx("form",{onSubmit:y(q),children:c.jsxs(me,{spacing:3,children:[!r&&l&&l.length>0&&c.jsxs(Xe,{children:[c.jsx(gt,{title:"Job Templates"}),c.jsx(Ne,{children:c.jsx(da,{options:l,getOptionLabel:D=>D.name,onChange:(D,j)=>j&&J(j.id),renderInput:D=>c.jsx(Me,{...D,label:"Start from template",placeholder:"Select a template to prefill job details"})})})]}),c.jsxs(Xe,{children:[c.jsx(gt,{title:"Basic Information"}),c.jsx(Ne,{children:c.jsxs(ne,{container:!0,spacing:3,children:[c.jsx(ne,{size:12,children:c.jsx(Te,{name:"title",control:m,render:({field:D})=>{var j;return c.jsx(Me,{...D,fullWidth:!0,label:"Job Title",error:!!b.title,helperText:(j=b.title)==null?void 0:j.message})}})}),c.jsx(ne,{size:12,children:c.jsx(Te,{name:"description",control:m,render:({field:D})=>{var j;return c.jsx(Me,{...D,fullWidth:!0,multiline:!0,rows:3,label:"Description",error:!!b.description,helperText:(j=b.description)==null?void 0:j.message})}})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"customerId",control:m,render:({field:D})=>c.jsxs(vr,{fullWidth:!0,error:!!b.customerId,children:[c.jsx(mr,{children:"Customer"}),c.jsx(pr,{...D,label:"Customer",startAdornment:c.jsx(is,{}),children:o==null?void 0:o.customers.map(j=>c.jsx(ye,{value:j.id,children:yr(j)},j.id))}),b.customerId&&c.jsx(ui,{children:b.customerId.message})]})})}),c.jsx(ne,{size:{xs:12,sm:3},children:c.jsx(Te,{name:"priority",control:m,render:({field:D})=>c.jsxs(vr,{fullWidth:!0,error:!!b.priority,children:[c.jsx(mr,{children:"Priority"}),c.jsxs(pr,{...D,label:"Priority",children:[c.jsx(ye,{value:"low",children:"Low"}),c.jsx(ye,{value:"medium",children:"Medium"}),c.jsx(ye,{value:"high",children:"High"}),c.jsx(ye,{value:"urgent",children:"Urgent"})]}),b.priority&&c.jsx(ui,{children:b.priority.message})]})})}),c.jsx(ne,{size:{xs:12,sm:3},children:c.jsx(Te,{name:"category",control:m,render:({field:D})=>c.jsx(da,{...D,options:u||[],freeSolo:!0,onChange:(j,B)=>D.onChange(B),renderInput:j=>{var B;return c.jsx(Me,{...j,label:"Category",error:!!b.category,helperText:(B=b.category)==null?void 0:B.message})}})})})]})})]}),c.jsxs(Xe,{children:[c.jsx(gt,{title:"Scheduling"}),c.jsx(Ne,{children:c.jsxs(ne,{container:!0,spacing:3,children:[c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"startAt",control:m,render:({field:D})=>{var j;return c.jsx(hi,{...D,label:"Start Date & Time",value:D.value?new Date(D.value):null,onChange:B=>D.onChange(B==null?void 0:B.toISOString()),slotProps:{textField:{fullWidth:!0,error:!!b.startAt,helperText:(j=b.startAt)==null?void 0:j.message}}})}})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"endAt",control:m,render:({field:D})=>{var j;return c.jsx(hi,{...D,label:"End Date & Time",value:D.value?new Date(D.value):null,onChange:B=>D.onChange(B==null?void 0:B.toISOString()),slotProps:{textField:{fullWidth:!0,error:!!b.endAt,helperText:(j=b.endAt)==null?void 0:j.message}}})}})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"estimatedDuration",control:m,render:({field:D})=>{var j;return c.jsx(Me,{...D,fullWidth:!0,type:"number",label:"Estimated Duration (minutes)",InputProps:{startAdornment:c.jsx(os,{})},error:!!b.estimatedDuration,helperText:(j=b.estimatedDuration)==null?void 0:j.message})}})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"allDay",control:m,render:({field:D})=>c.jsx(Mu,{control:c.jsx($u,{...D,checked:D.value}),label:"All Day Event"})})})]})})]}),c.jsxs(Xe,{children:[c.jsx(gt,{title:"Line Items",action:c.jsx(ae,{startIcon:c.jsx(ss,{}),onClick:z,variant:"outlined",size:"small",children:"Add Item"})}),c.jsx(Ne,{children:c.jsxs(me,{spacing:2,children:[A.map((D,j)=>{var B;return c.jsx(Xe,{variant:"outlined",children:c.jsx(Ne,{children:c.jsxs(ne,{container:!0,spacing:2,alignItems:"center",children:[c.jsx(ne,{size:{xs:12,sm:3},children:c.jsx(Te,{name:`lineItems.${j}.name`,control:m,render:({field:he})=>{var T,$,P,W,H;return c.jsx(Me,{...he,fullWidth:!0,label:"Item Name",size:"small",error:!!(($=(T=b.lineItems)==null?void 0:T[j])!=null&&$.name),helperText:(H=(W=(P=b.lineItems)==null?void 0:P[j])==null?void 0:W.name)==null?void 0:H.message})}})}),c.jsx(ne,{size:{xs:12,sm:2},children:c.jsx(Te,{name:`lineItems.${j}.quantity`,control:m,render:({field:he})=>{var T,$,P,W,H;return c.jsx(Me,{...he,fullWidth:!0,type:"number",label:"Quantity",size:"small",error:!!(($=(T=b.lineItems)==null?void 0:T[j])!=null&&$.quantity),helperText:(H=(W=(P=b.lineItems)==null?void 0:P[j])==null?void 0:W.quantity)==null?void 0:H.message})}})}),c.jsx(ne,{size:{xs:12,sm:2},children:c.jsx(Te,{name:`lineItems.${j}.unitPrice`,control:m,render:({field:he})=>{var T,$,P,W,H;return c.jsx(Me,{...he,fullWidth:!0,type:"number",label:"Unit Price",size:"small",InputProps:{startAdornment:"$"},error:!!(($=(T=b.lineItems)==null?void 0:T[j])!=null&&$.unitPrice),helperText:(H=(W=(P=b.lineItems)==null?void 0:P[j])==null?void 0:W.unitPrice)==null?void 0:H.message})}})}),c.jsx(ne,{size:{xs:12,sm:2},children:c.jsx(Me,{fullWidth:!0,label:"Total",size:"small",value:`$${(((B=M==null?void 0:M[j])==null?void 0:B.total)||0).toFixed(2)}`,InputProps:{readOnly:!0}})}),c.jsx(ne,{size:{xs:12,sm:3},children:c.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[c.jsx(Te,{name:`lineItems.${j}.description`,control:m,render:({field:he})=>c.jsx(Me,{...he,fullWidth:!0,label:"Description",size:"small",placeholder:"Optional"})}),c.jsx(ot,{color:"error",onClick:()=>E(j),size:"small",children:c.jsx(Vo,{})})]})})]})})},D.id)}),A.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(Ca,{}),c.jsxs(ne,{container:!0,spacing:2,children:[c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"taxRate",control:m,render:({field:D})=>{var j;return c.jsx(Me,{...D,fullWidth:!0,type:"number",label:"Tax Rate (%)",size:"small",error:!!b.taxRate,helperText:(j=b.taxRate)==null?void 0:j.message})}})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsxs(me,{spacing:1,children:[c.jsxs(X,{display:"flex",justifyContent:"space-between",children:[c.jsx(U,{variant:"body2",children:"Subtotal:"}),c.jsxs(U,{variant:"body2",children:["$",F().toFixed(2)]})]}),c.jsxs(X,{display:"flex",justifyContent:"space-between",children:[c.jsx(U,{variant:"body2",children:"Tax:"}),c.jsxs(U,{variant:"body2",children:["$",V().toFixed(2)]})]}),c.jsxs(X,{display:"flex",justifyContent:"space-between",children:[c.jsx(U,{variant:"h6",children:"Total:"}),c.jsxs(U,{variant:"h6",children:["$",Y().toFixed(2)]})]})]})})]})]})]})})]}),c.jsxs(Xe,{children:[c.jsx(gt,{title:"Additional Information"}),c.jsx(Ne,{children:c.jsxs(ne,{container:!0,spacing:3,children:[c.jsx(ne,{size:12,children:c.jsx(Te,{name:"tags",control:m,render:({field:D})=>c.jsx(da,{...D,multiple:!0,options:f||[],freeSolo:!0,onChange:(j,B)=>D.onChange(B),renderTags:(j,B)=>j.map((he,T)=>I.createElement(Fe,{variant:"outlined",label:he,...B({index:T}),key:he})),renderInput:j=>c.jsx(Me,{...j,label:"Tags",placeholder:"Add tags",helperText:"Press Enter to add custom tags"})})})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"notes",control:m,render:({field:D})=>c.jsx(Me,{...D,fullWidth:!0,multiline:!0,rows:4,label:"Customer Notes",helperText:"Visible to customers",error:!!b.notes})})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"internalNotes",control:m,render:({field:D})=>c.jsx(Me,{...D,fullWidth:!0,multiline:!0,rows:4,label:"Internal Notes",helperText:"Internal use only",error:!!b.internalNotes})})}),c.jsx(ne,{size:{xs:12,sm:6},children:c.jsx(Te,{name:"source",control:m,render:({field:D})=>c.jsxs(vr,{fullWidth:!0,children:[c.jsx(mr,{children:"Lead Source"}),c.jsxs(pr,{...D,label:"Lead Source",children:[c.jsx(ye,{value:"website",children:"Website"}),c.jsx(ye,{value:"phone",children:"Phone Call"}),c.jsx(ye,{value:"referral",children:"Referral"}),c.jsx(ye,{value:"jobber",children:"Jobber"}),c.jsx(ye,{value:"manual",children:"Manual Entry"})]})]})})})]})})]}),c.jsxs(me,{direction:"row",spacing:2,justifyContent:"flex-end",children:[c.jsx(ae,{variant:"outlined",onClick:()=>e("/jobs"),disabled:d||p,children:"Cancel"}),c.jsx(ae,{type:"submit",variant:"contained",disabled:!O||d||p,children:d||p?c.jsx(zt,{size:24}):r?"Update Job":"Create Job"})]})]})})]})},ha=({children:e,value:t,index:r,...n})=>c.jsx("div",{role:"tabpanel",hidden:t!==r,id:`job-tabpanel-${r}`,"aria-labelledby":`job-tab-${r}`,...n,children:t===r&&c.jsx(X,{sx:{pt:3},children:e})}),Aj=()=>{var J;const e=Mn(),{id:t}=Fo(),[r,n]=I.useState(0),[a,s]=I.useState(!1),[i,o]=I.useState(!1),[l,u]=I.useState(""),[f,h]=I.useState(!1),{data:d,isLoading:v}=qo(t),[p,{isLoading:m}]=ls(),[y,{isLoading:w}]=gd(),[S,{isLoading:x}]=Sd(),[b,{isLoading:O}]=xd(),[A,{isLoading:_}]=yd(),E=async D=>{try{await p({id:t,status:D}).unwrap()}catch(j){console.error("Failed to update job status:",j)}},M=async()=>{try{await y(t).unwrap(),e("/jobs")}catch(D){console.error("Failed to delete job:",D)}},N=async()=>{try{await S(t).unwrap()}catch(D){console.error("Failed to sync job:",D)}},F=async()=>{try{const D=await A({id:t,title:`${d==null?void 0:d.title} (Copy)`}).unwrap();e(`/jobs/${D.id}/edit`)}catch(D){console.error("Failed to duplicate job:",D)}},V=async()=>{if(l.trim())try{await b({jobId:t,note:l,isInternal:f}).unwrap(),u(""),o(!1),h(!1)}catch(D){console.error("Failed to add note:",D)}};if(v||!d)return c.jsx(X,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:c.jsx(zt,{})});const Y=Ko(d),q=br(d),z=()=>{switch(d.status){case"active":return c.jsxs(c.Fragment,{children:[c.jsx(ae,{startIcon:c.jsx(Go,{}),variant:"contained",color:"success",onClick:()=>E("completed"),disabled:m,children:"Complete Job"}),c.jsx(ae,{startIcon:c.jsx(os,{}),variant:"outlined",onClick:()=>E("on_hold"),disabled:m,children:"Put On Hold"})]});case"on_hold":return c.jsx(ae,{startIcon:c.jsx(fi,{}),variant:"contained",onClick:()=>E("active"),disabled:m,children:"Resume Job"});case"completed":return c.jsx(ae,{startIcon:c.jsx(fi,{}),variant:"outlined",onClick:()=>E("active"),disabled:m,children:"Reopen Job"});default:return null}};return c.jsxs(X,{children:[c.jsxs(me,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[c.jsxs(X,{children:[c.jsx(U,{variant:"h4",component:"h1",children:vi(d)}),c.jsxs(me,{direction:"row",spacing:1,mt:1,children:[c.jsx(Fe,{label:d.status.replace("_"," ").toUpperCase(),sx:{backgroundColor:Ra(d.status),color:"white"}}),c.jsx(Fe,{label:d.priority.toUpperCase(),sx:{backgroundColor:Ia(d.priority),color:"white"}}),q&&c.jsx(Fe,{label:"OVERDUE",color:"error"})]})]}),c.jsxs(me,{direction:"row",spacing:1,children:[z(),c.jsx(ae,{startIcon:x?c.jsx(zt,{size:20}):c.jsx(zo,{}),variant:"outlined",onClick:N,disabled:x,children:"Sync"}),c.jsx(ae,{startIcon:c.jsx(Cu,{}),variant:"outlined",onClick:F,disabled:_,children:"Duplicate"}),c.jsx(ae,{startIcon:c.jsx(Uo,{}),variant:"contained",onClick:()=>e(`/jobs/${t}/edit`),children:"Edit"}),c.jsx(ot,{onClick:()=>s(!0),color:"error",children:c.jsx(Vo,{})})]})]}),q&&c.jsxs(ju,{severity:"warning",sx:{mb:2},children:["This job is overdue! Expected completion: ",new Date(d.endAt).toLocaleString()]}),c.jsxs(ne,{container:!0,spacing:3,children:[c.jsxs(ne,{size:{xs:12,md:4},children:[c.jsxs(Xe,{children:[c.jsx(gt,{title:"Job Information"}),c.jsx(Ne,{children:c.jsxs(me,{spacing:2,children:[c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Job Number"}),c.jsx(U,{variant:"body1",fontWeight:"medium",children:d.jobNumber})]}),d.customer&&c.jsxs(X,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(is,{fontSize:"small",color:"action"}),c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Customer"}),c.jsx(U,{variant:"body2",children:yr(d.customer)})]})]}),((J=d.property)==null?void 0:J.address)&&c.jsxs(X,{display:"flex",alignItems:"flex-start",gap:1,children:[c.jsx(ku,{fontSize:"small",color:"action"}),c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Property Address"}),c.jsx(U,{variant:"body2",children:yu(d.property.address)})]})]}),c.jsx(Ca,{}),c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Progress"}),c.jsxs(X,{display:"flex",alignItems:"center",gap:1,mt:1,children:[c.jsx(Ho,{variant:"determinate",value:Y,sx:{flexGrow:1,height:8,borderRadius:4}}),c.jsxs(U,{variant:"body2",fontWeight:"medium",children:[Y,"%"]})]})]}),d.startAt&&c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Scheduled Start"}),c.jsx(U,{variant:"body2",children:new Date(d.startAt).toLocaleString()})]}),d.endAt&&c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Expected Completion"}),c.jsx(U,{variant:"body2",children:new Date(d.endAt).toLocaleString()})]}),d.estimatedDuration&&c.jsxs(X,{children:[c.jsx(U,{variant:"caption",color:"text.secondary",children:"Estimated Duration"}),c.jsx(U,{variant:"body2",children:Xo(d.estimatedDuration)})]})]})})]}),c.jsxs(Xe,{sx:{mt:2},children:[c.jsx(gt,{title:"Financial Summary"}),c.jsx(Ne,{children:c.jsxs(me,{spacing:2,children:[c.jsxs(X,{display:"flex",justifyContent:"space-between",children:[c.jsx(U,{variant:"body2",children:"Subtotal:"}),c.jsxs(U,{variant:"body2",children:["$",d.subtotal.toLocaleString()]})]}),c.jsxs(X,{display:"flex",justifyContent:"space-between",children:[c.jsx(U,{variant:"body2",children:"Tax:"}),c.jsxs(U,{variant:"body2",children:["$",d.taxAmount.toLocaleString()]})]}),c.jsx(Ca,{}),c.jsxs(X,{display:"flex",justifyContent:"space-between",children:[c.jsx(U,{variant:"h6",children:"Total:"}),c.jsxs(U,{variant:"h6",children:["$",d.total.toLocaleString()]})]})]})})]}),d.tags&&d.tags.length>0&&c.jsxs(Xe,{sx:{mt:2},children:[c.jsx(gt,{title:"Tags"}),c.jsx(Ne,{children:c.jsx(me,{direction:"row",spacing:1,flexWrap:"wrap",children:d.tags.map((D,j)=>c.jsx(Fe,{label:D,size:"small"},j))})})]})]}),c.jsx(ne,{size:{xs:12,md:8},children:c.jsxs(Xe,{children:[c.jsxs(Au,{value:r,onChange:(D,j)=>n(j),"aria-label":"job detail tabs",children:[c.jsx(fa,{icon:c.jsx(di,{}),label:"Notes"}),c.jsx(fa,{icon:c.jsx(Pu,{}),label:"Tasks"}),c.jsx(fa,{icon:c.jsx(Ru,{}),label:"History"})]}),c.jsx(ha,{value:r,index:0,children:c.jsx(Ne,{children:c.jsxs(me,{spacing:2,children:[c.jsx(ae,{variant:"outlined",startIcon:c.jsx(di,{}),onClick:()=>o(!0),children:"Add Note"}),d.description&&c.jsxs(X,{children:[c.jsx(U,{variant:"h6",gutterBottom:!0,children:"Description"}),c.jsx(U,{variant:"body2",whiteSpace:"pre-wrap",children:d.description})]}),d.notes&&c.jsxs(X,{children:[c.jsx(U,{variant:"h6",gutterBottom:!0,children:"Customer Notes"}),c.jsx(U,{variant:"body2",whiteSpace:"pre-wrap",children:d.notes})]}),d.internalNotes&&c.jsxs(X,{children:[c.jsx(U,{variant:"h6",gutterBottom:!0,children:"Internal Notes"}),c.jsx(U,{variant:"body2",whiteSpace:"pre-wrap",children:d.internalNotes})]})]})})}),c.jsx(ha,{value:r,index:1,children:c.jsx(Ne,{children:d.milestones&&d.milestones.length>0?c.jsx(Iu,{children:d.milestones.map(D=>c.jsxs(Nu,{divider:!0,children:[c.jsx(Lu,{children:c.jsx(Fe,{size:"small",color:D.status==="completed"?"success":"default",label:D.status==="completed"?"✓":"○"})}),c.jsx(Fu,{primary:D.title,secondary:c.jsxs(X,{children:[c.jsx(U,{variant:"body2",children:D.description}),c.jsxs(U,{variant:"caption",color:"text.secondary",children:["Status: ",D.status]})]})})]},D.id))}):c.jsx(U,{variant:"body2",color:"text.secondary",children:"No tasks defined for this job"})})}),c.jsx(ha,{value:r,index:2,children:c.jsx(Ne,{children:c.jsx(U,{variant:"body2",color:"text.secondary",children:"Job history and activity log will be implemented in the next phase"})})})]})})]}),c.jsxs(ja,{open:a,onClose:()=>s(!1),children:[c.jsx(ka,{children:"Delete Job"}),c.jsx(Aa,{children:c.jsxs(U,{children:["Are you sure you want to delete ",vi(d),"? This action cannot be undone."]})}),c.jsxs(Pa,{children:[c.jsx(ae,{onClick:()=>s(!1),children:"Cancel"}),c.jsx(ae,{onClick:M,color:"error",variant:"contained",disabled:w,children:w?c.jsx(zt,{size:24}):"Delete"})]})]}),c.jsxs(ja,{open:i,onClose:()=>o(!1),maxWidth:"sm",fullWidth:!0,children:[c.jsx(ka,{children:"Add Note"}),c.jsxs(Aa,{children:[c.jsx(Me,{autoFocus:!0,multiline:!0,rows:4,fullWidth:!0,value:l,onChange:D=>u(D.target.value),placeholder:"Enter your note here...",sx:{mt:2}}),c.jsx(X,{mt:2,children:c.jsxs(U,{variant:"caption",children:[c.jsx("input",{type:"checkbox",checked:f,onChange:D=>h(D.target.checked)})," ","Internal note (not visible to customer)"]})})]}),c.jsxs(Pa,{children:[c.jsx(ae,{onClick:()=>o(!1),children:"Cancel"}),c.jsx(ae,{onClick:V,variant:"contained",disabled:O||!l.trim(),children:O?c.jsx(zt,{size:24}):"Add Note"})]})]})]})};function Et(e,t,r){return(t=Jo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mi(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qe(e,t){if(e==null)return{};var r,n,a=$n(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jo(n.key),n)}}function xe(e,t,r){return t&&pi(e.prototype,t),r&&pi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vn(e){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vn(e)}function Zo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zo=function(){return!!e})()}function Ed(e,t){if(t&&(Cn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return od(e)}function Ce(e,t,r){return t=vn(t),Ed(e,Zo()?Reflect.construct(t,r||[],vn(e).constructor):t.apply(e,r))}function je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ld(e,t)}function Qo(e){if(Array.isArray(e))return e}function Md(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,o=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function Na(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cs(e,t){if(e){if(typeof e=="string")return Na(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Na(e,t):void 0}}function el(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ye(e,t){return Qo(e)||Md(e,t)||cs(e,t)||el()}function tl(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=tl(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function pe(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=tl(e))&&(n&&(n+=" "),n+=t);return n}var $d=function(e,t,r,n,a,s,i,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,s,i,o],f=0;l=new Error(t.replace(/%s/g,function(){return u[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Cd=$d;const wr=qe(Cd);var jd=function(){};function kd(e,t){var r={};return Object.keys(e).forEach(function(n){r[sn(n)]=jd}),r}function gi(e,t){return e[t]!==void 0}function sn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ad(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function rl(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function nl(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function al(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}rl.__suppressDeprecationWarning=!0;nl.__suppressDeprecationWarning=!0;al.__suppressDeprecationWarning=!0;function Pd(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var s=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=rl,t.componentWillReceiveProps=nl),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=al;var o=t.componentDidUpdate;t.componentDidUpdate=function(u,f,h){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;o.call(this,u,f,d)}}return e}var Rd="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function sl(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=Ad(e),s=Object.keys(t),i=s.map(sn);a||!r.length||wr(!1);var o=function(u){cd(f,u);function f(){for(var d,v=arguments.length,p=new Array(v),m=0;m<v;m++)p[m]=arguments[m];d=u.call.apply(u,[this].concat(p))||this,d.handlers=Object.create(null),s.forEach(function(w){var S=t[w],x=function(O){if(d.props[S]){var A;d._notifying=!0;for(var _=arguments.length,E=new Array(_>1?_-1:0),M=1;M<_;M++)E[M-1]=arguments[M];(A=d.props)[S].apply(A,[O].concat(E)),d._notifying=!1}d.unmounted||d.setState(function(N){var F,V=N.values;return{values:we(Object.create(null),V,(F={},F[w]=O,F))}})};d.handlers[S]=x}),r.length&&(d.attachRef=function(w){d.inner=w});var y=Object.create(null);return s.forEach(function(w){y[w]=d.props[sn(w)]}),d.state={values:y,prevProps:{}},d}var h=f.prototype;return h.shouldComponentUpdate=function(){return!this._notifying},f.getDerivedStateFromProps=function(v,p){var m=p.values,y=p.prevProps,w={values:we(Object.create(null),m),prevProps:{}};return s.forEach(function(S){w.prevProps[S]=v[S],!gi(v,S)&&gi(y,S)&&(w.values[S]=v[sn(S)])}),w},h.componentWillUnmount=function(){this.unmounted=!0},h.render=function(){var v=this,p=this.props,m=p.innerRef,y=$n(p,["innerRef"]);i.forEach(function(S){delete y[S]});var w={};return s.forEach(function(S){var x=v.props[S];w[S]=x!==void 0?x:v.state.values[S]}),g.createElement(e,we({},y,w,this.handlers,{ref:m||this.attachRef}))},f}(g.Component);Pd(o),o.displayName="Uncontrolled("+n+")",o.propTypes=we({innerRef:function(){}},kd(t)),r.forEach(function(u){o.prototype[u]=function(){var h;return(h=this.inner)[u].apply(h,arguments)}});var l=o;return g.forwardRef&&(l=g.forwardRef(function(u,f){return g.createElement(o,we({},u,{innerRef:f,__source:{fileName:Rd,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,f,h){return f===void 0&&(f={}),sl(u,we({},t,f),h)},l}var mn="milliseconds",Sr="seconds",_r="minutes",Dr="hours",jt="day",Jt="week",xr="month",kt="year",At="decade",Pt="century",il={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Id={month:1,year:12,decade:10*12,century:100*12};function Nd(e){return[31,Ld(e),31,30,31,30,31,31,30,31,30,31]}function Ld(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ge(e,t,r){switch(e=new Date(e),r){case mn:case Sr:case _r:case Dr:case jt:case Jt:return Fd(e,t*il[r]);case xr:case kt:case At:case Pt:return Yd(e,t*Id[r])}throw new TypeError('Invalid units: "'+r+'"')}function Fd(e,t){var r=new Date(+e+t);return Wd(e,r)}function Yd(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),s=r*12+n+t,i=Math.trunc(s/12),o=s%12,l=Math.min(a,Nd(i)[o]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(o),u.setDate(l),u}function Wd(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*il.minutes)}function Tr(e,t,r){return Ge(e,-t,r)}function Oe(e,t,r){switch(e=new Date(e),t){case Pt:case At:case kt:e=gn(e,0);case xr:e=dl(e,1);case Jt:case jt:e=Mr(e,0);case Dr:e=qt(e,0);case _r:e=Er(e,0);case Sr:e=Or(e,0)}return t===At&&(e=Tr(e,Rt(e)%10,"year")),t===Pt&&(e=Tr(e,Rt(e)%100,"year")),t===Jt&&(e=fl(e,0,r)),e}function pn(e,t,r){switch(e=new Date(e),e=Oe(e,t,r),t){case Pt:case At:case kt:case xr:case Jt:e=Ge(e,1,t),e=Tr(e,1,jt),e.setHours(23,59,59,999);break;case jt:e.setHours(23,59,59,999);break;case Dr:case _r:case Sr:e=Ge(e,1,t),e=Tr(e,1,mn)}return e}var Ir=Kt(function(e,t){return e===t}),us=Kt(function(e,t){return e!==t}),jn=Kt(function(e,t){return e>t}),Nr=Kt(function(e,t){return e>=t}),ds=Kt(function(e,t){return e<t}),Bt=Kt(function(e,t){return e<=t});function ol(){return new Date(Math.min.apply(Math,arguments))}function ll(){return new Date(Math.max.apply(Math,arguments))}function cl(e,t,r,n){return n=n||"day",(!t||Nr(e,t,n))&&(!r||Bt(e,r,n))}var Or=_t("Milliseconds"),Er=_t("Seconds"),qt=_t("Minutes"),Mr=_t("Hours"),ul=_t("Day"),dl=_t("Date"),gn=_t("Month"),Rt=_t("FullYear");function zd(e,t){return t===void 0?Rt(Oe(e,At)):Ge(e,t+10,kt)}function Hd(e,t){return t===void 0?Rt(Oe(e,Pt)):Ge(e,t+100,kt)}function fl(e,t,r){var n=(ul(e)+7-(r||0))%7;return t===void 0?n:Ge(e,t-n,jt)}function Ud(e,t,r,n){var a,s,i;switch(r){case mn:case Sr:case _r:case Dr:case jt:case Jt:a=t.getTime()-e.getTime();break;case xr:case kt:case At:case Pt:a=(Rt(t)-Rt(e))*12+gn(t)-gn(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case mn:s=1;break;case Sr:s=1e3;break;case _r:s=1e3*60;break;case Dr:s=1e3*60*60;break;case jt:s=1e3*60*60*24;break;case Jt:s=1e3*60*60*24*7;break;case xr:s=1;break;case kt:s=12;break;case At:s=120;break;case Pt:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=a/s,n?i:Math.round(i)}function _t(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function Kt(e){return function(t,r,n){return e(+Oe(t,n),+Oe(r,n))}}const yi=Object.freeze(Object.defineProperty({__proto__:null,add:Ge,century:Hd,date:dl,day:ul,decade:zd,diff:Ud,endOf:pn,eq:Ir,gt:jn,gte:Nr,hours:Mr,inRange:cl,lt:ds,lte:Bt,max:ll,milliseconds:Or,min:ol,minutes:qt,month:gn,neq:us,seconds:Er,startOf:Oe,subtract:Tr,weekday:fl,year:Rt},Symbol.toStringTag,{value:"Module"}));function Gd(e){if(Array.isArray(e))return Na(e)}function hl(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function on(e){return Gd(e)||hl(e)||cs(e)||Vd()}function Jd(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var vl=Jd;function qd(e,t){return e===t||e!==e&&t!==t}var Lr=qd,Bd=typeof Xr=="object"&&Xr&&Xr.Object===Object&&Xr,ml=Bd,Kd=ml,Xd=typeof self=="object"&&self&&self.Object===Object&&self,Zd=Kd||Xd||Function("return this")(),tt=Zd,Qd=tt,ef=Qd.Symbol,Xt=ef,bi=Xt,pl=Object.prototype,tf=pl.hasOwnProperty,rf=pl.toString,cr=bi?bi.toStringTag:void 0;function nf(e){var t=tf.call(e,cr),r=e[cr];try{e[cr]=void 0;var n=!0}catch{}var a=rf.call(e);return n&&(t?e[cr]=r:delete e[cr]),a}var af=nf,sf=Object.prototype,of=sf.toString;function lf(e){return of.call(e)}var cf=lf,wi=Xt,uf=af,df=cf,ff="[object Null]",hf="[object Undefined]",Si=wi?wi.toStringTag:void 0;function vf(e){return e==null?e===void 0?hf:ff:Si&&Si in Object(e)?uf(e):df(e)}var Zt=vf;function mf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ht=mf,pf=Zt,gf=ht,yf="[object AsyncFunction]",bf="[object Function]",wf="[object GeneratorFunction]",Sf="[object Proxy]";function _f(e){if(!gf(e))return!1;var t=pf(e);return t==bf||t==wf||t==yf||t==Sf}var fs=_f,Df=9007199254740991;function xf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Df}var hs=xf,Tf=fs,Of=hs;function Ef(e){return e!=null&&Of(e.length)&&!Tf(e)}var Fr=Ef,Mf=9007199254740991,$f=/^(?:0|[1-9]\d*)$/;function Cf(e,t){var r=typeof e;return t=t??Mf,!!t&&(r=="number"||r!="symbol"&&$f.test(e))&&e>-1&&e%1==0&&e<t}var vs=Cf,jf=Lr,kf=Fr,Af=vs,Pf=ht;function Rf(e,t,r){if(!Pf(r))return!1;var n=typeof t;return(n=="number"?kf(r)&&Af(t,r.length):n=="string"&&t in r)?jf(r[t],e):!1}var kn=Rf,If=/\s/;function Nf(e){for(var t=e.length;t--&&If.test(e.charAt(t)););return t}var Lf=Nf,Ff=Lf,Yf=/^\s+/;function Wf(e){return e&&e.slice(0,Ff(e)+1).replace(Yf,"")}var zf=Wf;function Hf(e){return e!=null&&typeof e=="object"}var Dt=Hf,Uf=Zt,Gf=Dt,Vf="[object Symbol]";function Jf(e){return typeof e=="symbol"||Gf(e)&&Uf(e)==Vf}var Yr=Jf,qf=zf,_i=ht,Bf=Yr,Di=0/0,Kf=/^[-+]0x[0-9a-f]+$/i,Xf=/^0b[01]+$/i,Zf=/^0o[0-7]+$/i,Qf=parseInt;function eh(e){if(typeof e=="number")return e;if(Bf(e))return Di;if(_i(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_i(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qf(e);var r=Xf.test(e);return r||Zf.test(e)?Qf(e.slice(2),r?2:8):Kf.test(e)?Di:+e}var th=eh,rh=th,xi=1/0,nh=17976931348623157e292;function ah(e){if(!e)return e===0?e:0;if(e=rh(e),e===xi||e===-xi){var t=e<0?-1:1;return t*nh}return e===e?e:0}var gl=ah,sh=gl;function ih(e){var t=sh(e),r=t%1;return t===t?r?t-r:t:0}var yl=ih,oh=vl,lh=kn,ch=yl,uh=Math.ceil,dh=Math.max;function fh(e,t,r){(r?lh(e,t,r):t===void 0)?t=1:t=dh(ch(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,s=0,i=Array(uh(n/t));a<n;)i[s++]=oh(e,a,a+=t);return i}var hh=fh;const vh=qe(hh);function Wr(e){return e&&e.ownerDocument||document}function mh(e){var t=Wr(e);return t&&t.defaultView||window}function ph(e,t){return mh(e).getComputedStyle(e,t)}var gh=/([A-Z])/g;function yh(e){return e.replace(gh,"-$1").toLowerCase()}var bh=/^ms-/;function Zr(e){return yh(e).replace(bh,"-ms-")}var wh=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Sh(e){return!!(e&&wh.test(e))}function Yt(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Zr(t))||ph(e).getPropertyValue(Zr(t));Object.keys(t).forEach(function(a){var s=t[a];!s&&s!==0?e.style.removeProperty(Zr(a)):Sh(a)?n+=a+"("+s+") ":r+=Zr(a)+": "+s+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function $r(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function _h(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function ms(e){return"window"in e&&e.window===e?e:_h(e)&&e.defaultView||!1}function bl(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var s=ms(n);if(a===void 0)return s?s[e]:n[t];s?s.scrollTo(s[e],a):n[t]=a}return r}const wl=bl("pageXOffset"),Sl=bl("pageYOffset");function $t(e){var t=Wr(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!$r(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+Sl(n)-(n.clientTop||0),left:r.left+wl(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var Dh=function(t){return!!t&&"offsetParent"in t};function xh(e){for(var t=Wr(e),r=e&&e.offsetParent;Dh(r)&&r.nodeName!=="HTML"&&Yt(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Th=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function _l(e,t){var r={top:0,left:0},n;if(Yt(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||xh(e);n=$t(e),Th(a)!=="html"&&(r=$t(a));var s=String(Yt(a,"borderTopWidth")||0);r.top+=parseInt(s,10)-Sl(a)||0;var i=String(Yt(a,"borderLeftWidth")||0);r.left+=parseInt(i,10)-wl(a)||0}var o=String(Yt(e,"marginTop")||0),l=String(Yt(e,"marginLeft")||0);return we({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const ps=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ti=new Date().getTime();function Oh(e){var t=new Date().getTime(),r=Math.max(0,16-(t-Ti)),n=setTimeout(e,r);return Ti=t,n}var Eh=["","webkit","moz","o","ms"],La="clearTimeout",Fa=Oh,Oi=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ps&&Eh.some(function(e){var t=Oi(e,"request");return t in window&&(La=Oi(e,"cancel"),Fa=function(n){return window[t](n)}),!!Fa});var Ei=function(t){typeof window[La]=="function"&&window[La](t)},Dl=Fa,va;function Mh(e,t){if(!va){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;va=function(s,i){return n.call(s,i)}}return va(e,t)}var $h=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ch(e,t){return $h(e.querySelectorAll(t))}var Ya=!1,Wa=!1;try{var ma={get passive(){return Ya=!0},get once(){return Wa=Ya=!0}};ps&&(window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,!0))}catch{}function jh(e,t,r,n){if(n&&typeof n!="boolean"&&!Wa){var a=n.once,s=n.capture,i=r;!Wa&&a&&(i=r.__once||function o(l){this.removeEventListener(t,o,s),r.call(this,l)},r.__once=i),e.addEventListener(t,i,Ya?n:s)}e.addEventListener(t,r,n)}function kh(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e},[e]),t}function Mi(e){const t=kh(e);return I.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function $i(){return I.useState(null)}function Ah(){const e=I.useRef(!0),t=I.useRef(()=>e.current);return I.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ph(e){const t=Ah();return[e[0],I.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Rh=Yu({defaultModifiers:[Wu,zu,Hu,Uu,Gu,Vu,Ju,qu]}),Ci=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Ih={name:"applyStyles",enabled:!1},Nh={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,s=n.popper;if("removeAttribute"in a){var i=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==s.id});i.length?a.setAttribute("aria-describedby",i.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,s=a.popper,i=a.reference,o=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&o==="tooltip"&&"setAttribute"in i){var l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;i.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},Lh=[];function Fh(e,t,r){var n=r===void 0?{}:r,a=n.enabled,s=a===void 0?!0:a,i=n.placement,o=i===void 0?"bottom":i,l=n.strategy,u=l===void 0?"absolute":l,f=n.modifiers,h=f===void 0?Lh:f,d=$n(n,["enabled","placement","strategy","modifiers"]),v=I.useRef(),p=I.useCallback(function(){var b;(b=v.current)==null||b.update()},[]),m=I.useCallback(function(){var b;(b=v.current)==null||b.forceUpdate()},[]),y=Ph(I.useState({placement:o,update:p,forceUpdate:m,attributes:{},styles:{popper:Ci(u),arrow:{}}})),w=y[0],S=y[1],x=I.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(O){var A=O.state,_={},E={};Object.keys(A.elements).forEach(function(M){_[M]=A.styles[M],E[M]=A.attributes[M]}),S({state:A,styles:_,attributes:E,update:p,forceUpdate:m,placement:A.placement})}}},[p,m,S]);return I.useEffect(function(){!v.current||!s||v.current.setOptions({placement:o,strategy:u,modifiers:[].concat(h,[x,Ih])})},[u,o,x,s]),I.useEffect(function(){if(!(!s||e==null||t==null))return v.current=Rh(e,t,we({},d,{placement:o,strategy:u,modifiers:[].concat(h,[Nh,x])})),function(){v.current!=null&&(v.current.destroy(),v.current=void 0,S(function(b){return we({},b,{attributes:{},styles:{popper:Ci(u)}})}))}},[s,e,t]),w}function Yh(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function hr(e,t,r,n){return jh(e,t,r,n),function(){Yh(e,t,r,n)}}var Wh=function(){},zh=Wh;const Hh=qe(zh);function Uh(e){return e&&"setState"in e?Yo.findDOMNode(e):e??null}const Gh=function(e){return Wr(Uh(e))};var Vh=27,ji=function(){};function Jh(e){return e.button===0}function qh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ki=function(t){return t&&("current"in t?t.current:t)};function Bh(e,t,r){var n=r===void 0?{}:r,a=n.disabled,s=n.clickTrigger,i=s===void 0?"click":s,o=I.useRef(!1),l=t||ji,u=I.useCallback(function(d){var v,p=ki(e);Hh(!!p,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!p||qh(d)||!Jh(d)||!!$r(p,(v=d.composedPath==null?void 0:d.composedPath()[0])!=null?v:d.target)},[e]),f=Mi(function(d){o.current||l(d)}),h=Mi(function(d){d.keyCode===Vh&&l(d)});I.useEffect(function(){if(!(a||e==null)){var d=window.event,v=Gh(ki(e)),p=hr(v,i,u,!0),m=hr(v,i,function(S){if(S===d){d=void 0;return}f(S)}),y=hr(v,"keyup",function(S){if(S===d){d=void 0;return}h(S)}),w=[];return"ontouchstart"in v.documentElement&&(w=[].slice.call(v.body.children).map(function(S){return hr(S,"mousemove",ji)})),function(){p(),m(),y(),w.forEach(function(S){return S()})}}},[e,a,i,u,f,h])}function Kh(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function Xh(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Zh(e){var t,r,n,a,s=e.enabled,i=e.enableEvents,o=e.placement,l=e.flip,u=e.offset,f=e.fixed,h=e.containerPadding,d=e.arrowElement,v=e.popperConfig,p=v===void 0?{}:v,m=Kh(p.modifiers);return we({},p,{placement:o,enabled:s,strategy:f?"fixed":p.strategy,modifiers:Xh(we({},m,{eventListeners:{enabled:i},preventOverflow:we({},m.preventOverflow,{options:h?we({padding:h},(t=m.preventOverflow)==null?void 0:t.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:we({offset:u},(n=m.offset)==null?void 0:n.options)},arrow:we({},m.arrow,{enabled:!!d,options:we({},(a=m.arrow)==null?void 0:a.options,{element:d})}),flip:we({enabled:!!l},m.flip)}))})}var Qr;function gs(e){if((!Qr&&Qr!==0||e)&&ps){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Qr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Qr}var pa=function(t){var r;return typeof document>"u"?null:t==null?Wr().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Ai(e,t){var r=I.useState(function(){return pa(e)}),n=r[0],a=r[1];if(!n){var s=pa(e);s&&a(s)}return I.useEffect(function(){t&&n&&t(n)},[t,n]),I.useEffect(function(){var i=pa(e);i!==n&&a(i)},[e,n]),n}const Pi=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Qh(e,t){const r=Pi(e),n=Pi(t);return a=>{r&&r(a),n&&n(a)}}function ev(e,t){return I.useMemo(()=>Qh(e,t),[e,t])}var ys=g.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,s=e.containerPadding,i=s===void 0?5:s,o=e.popperConfig,l=o===void 0?{}:o,u=e.transition,f=$i(),h=f[0],d=f[1],v=$i(),p=v[0],m=v[1],y=ev(d,t),w=Ai(e.container),S=Ai(e.target),x=I.useState(!e.show),b=x[0],O=x[1],A=Fh(S,h,Zh({placement:a,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:p,popperConfig:l})),_=A.styles,E=A.attributes,M=$n(A,["styles","attributes"]);e.show?b&&O(!1):!e.transition&&!b&&O(!0);var N=function(){O(!0),e.onExited&&e.onExited.apply(e,arguments)},F=e.show||u&&!b;if(Bh(h,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!F)return null;var V=e.children(we({},M,{show:!!e.show,props:we({},E.popper,{style:_.popper,ref:y}),arrowProps:we({},E.arrow,{style:_.arrow,ref:m})}));if(u){var Y=e.onExit,q=e.onExiting,z=e.onEnter,J=e.onEntering,D=e.onEntered;V=g.createElement(u,{in:e.show,appear:!0,onExit:Y,onExiting:q,onExited:N,onEnter:z,onEntering:J,onEntered:D},V)}return w?Yo.createPortal(V,w):null});ys.displayName="Overlay";ys.propTypes={show:k.bool,placement:k.oneOf(Bu),target:k.any,container:k.any,flip:k.bool,children:k.func.isRequired,containerPadding:k.number,popperConfig:k.object,rootClose:k.bool,rootCloseEvent:k.oneOf(["click","mousedown"]),rootCloseDisabled:k.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var s;return(s=k.func).isRequired.apply(s,[t].concat(n))}return k.func.apply(k,[t].concat(n))},transition:k.elementType,onEnter:k.func,onEntering:k.func,onEntered:k.func,onExit:k.func,onExiting:k.func,onExited:k.func};const tv=ys;function rv(){this.__data__=[],this.size=0}var nv=rv,av=Lr;function sv(e,t){for(var r=e.length;r--;)if(av(e[r][0],t))return r;return-1}var An=sv,iv=An,ov=Array.prototype,lv=ov.splice;function cv(e){var t=this.__data__,r=iv(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():lv.call(t,r,1),--this.size,!0}var uv=cv,dv=An;function fv(e){var t=this.__data__,r=dv(t,e);return r<0?void 0:t[r][1]}var hv=fv,vv=An;function mv(e){return vv(this.__data__,e)>-1}var pv=mv,gv=An;function yv(e,t){var r=this.__data__,n=gv(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var bv=yv,wv=nv,Sv=uv,_v=hv,Dv=pv,xv=bv;function Qt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qt.prototype.clear=wv;Qt.prototype.delete=Sv;Qt.prototype.get=_v;Qt.prototype.has=Dv;Qt.prototype.set=xv;var Pn=Qt,Tv=Pn;function Ov(){this.__data__=new Tv,this.size=0}var Ev=Ov;function Mv(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var $v=Mv;function Cv(e){return this.__data__.get(e)}var jv=Cv;function kv(e){return this.__data__.has(e)}var Av=kv,Pv=tt,Rv=Pv["__core-js_shared__"],Iv=Rv,ga=Iv,Ri=function(){var e=/[^.]+$/.exec(ga&&ga.keys&&ga.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Nv(e){return!!Ri&&Ri in e}var Lv=Nv,Fv=Function.prototype,Yv=Fv.toString;function Wv(e){if(e!=null){try{return Yv.call(e)}catch{}try{return e+""}catch{}}return""}var xl=Wv,zv=fs,Hv=Lv,Uv=ht,Gv=xl,Vv=/[\\^$.*+?()[\]{}|]/g,Jv=/^\[object .+?Constructor\]$/,qv=Function.prototype,Bv=Object.prototype,Kv=qv.toString,Xv=Bv.hasOwnProperty,Zv=RegExp("^"+Kv.call(Xv).replace(Vv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qv(e){if(!Uv(e)||Hv(e))return!1;var t=zv(e)?Zv:Jv;return t.test(Gv(e))}var em=Qv;function tm(e,t){return e==null?void 0:e[t]}var rm=tm,nm=em,am=rm;function sm(e,t){var r=am(e,t);return nm(r)?r:void 0}var Nt=sm,im=Nt,om=tt,lm=im(om,"Map"),bs=lm,cm=Nt,um=cm(Object,"create"),Rn=um,Ii=Rn;function dm(){this.__data__=Ii?Ii(null):{},this.size=0}var fm=dm;function hm(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vm=hm,mm=Rn,pm="__lodash_hash_undefined__",gm=Object.prototype,ym=gm.hasOwnProperty;function bm(e){var t=this.__data__;if(mm){var r=t[e];return r===pm?void 0:r}return ym.call(t,e)?t[e]:void 0}var wm=bm,Sm=Rn,_m=Object.prototype,Dm=_m.hasOwnProperty;function xm(e){var t=this.__data__;return Sm?t[e]!==void 0:Dm.call(t,e)}var Tm=xm,Om=Rn,Em="__lodash_hash_undefined__";function Mm(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Om&&t===void 0?Em:t,this}var $m=Mm,Cm=fm,jm=vm,km=wm,Am=Tm,Pm=$m;function er(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}er.prototype.clear=Cm;er.prototype.delete=jm;er.prototype.get=km;er.prototype.has=Am;er.prototype.set=Pm;var Rm=er,Ni=Rm,Im=Pn,Nm=bs;function Lm(){this.size=0,this.__data__={hash:new Ni,map:new(Nm||Im),string:new Ni}}var Fm=Lm;function Ym(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Wm=Ym,zm=Wm;function Hm(e,t){var r=e.__data__;return zm(t)?r[typeof t=="string"?"string":"hash"]:r.map}var In=Hm,Um=In;function Gm(e){var t=Um(this,e).delete(e);return this.size-=t?1:0,t}var Vm=Gm,Jm=In;function qm(e){return Jm(this,e).get(e)}var Bm=qm,Km=In;function Xm(e){return Km(this,e).has(e)}var Zm=Xm,Qm=In;function ep(e,t){var r=Qm(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var tp=ep,rp=Fm,np=Vm,ap=Bm,sp=Zm,ip=tp;function tr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tr.prototype.clear=rp;tr.prototype.delete=np;tr.prototype.get=ap;tr.prototype.has=sp;tr.prototype.set=ip;var ws=tr,op=Pn,lp=bs,cp=ws,up=200;function dp(e,t){var r=this.__data__;if(r instanceof op){var n=r.__data__;if(!lp||n.length<up-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new cp(n)}return r.set(e,t),this.size=r.size,this}var fp=dp,hp=Pn,vp=Ev,mp=$v,pp=jv,gp=Av,yp=fp;function rr(e){var t=this.__data__=new hp(e);this.size=t.size}rr.prototype.clear=vp;rr.prototype.delete=mp;rr.prototype.get=pp;rr.prototype.has=gp;rr.prototype.set=yp;var Ss=rr,bp="__lodash_hash_undefined__";function wp(e){return this.__data__.set(e,bp),this}var Sp=wp;function _p(e){return this.__data__.has(e)}var Dp=_p,xp=ws,Tp=Sp,Op=Dp;function yn(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new xp;++t<r;)this.add(e[t])}yn.prototype.add=yn.prototype.push=Tp;yn.prototype.has=Op;var Ep=yn;function Mp(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $p=Mp;function Cp(e,t){return e.has(t)}var jp=Cp,kp=Ep,Ap=$p,Pp=jp,Rp=1,Ip=2;function Np(e,t,r,n,a,s){var i=r&Rp,o=e.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var u=s.get(e),f=s.get(t);if(u&&f)return u==t&&f==e;var h=-1,d=!0,v=r&Ip?new kp:void 0;for(s.set(e,t),s.set(t,e);++h<o;){var p=e[h],m=t[h];if(n)var y=i?n(m,p,h,t,e,s):n(p,m,h,e,t,s);if(y!==void 0){if(y)continue;d=!1;break}if(v){if(!Ap(t,function(w,S){if(!Pp(v,S)&&(p===w||a(p,w,r,n,s)))return v.push(S)})){d=!1;break}}else if(!(p===m||a(p,m,r,n,s))){d=!1;break}}return s.delete(e),s.delete(t),d}var Tl=Np,Lp=tt,Fp=Lp.Uint8Array,Ol=Fp;function Yp(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Wp=Yp;function zp(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Hp=zp,Li=Xt,Fi=Ol,Up=Lr,Gp=Tl,Vp=Wp,Jp=Hp,qp=1,Bp=2,Kp="[object Boolean]",Xp="[object Date]",Zp="[object Error]",Qp="[object Map]",eg="[object Number]",tg="[object RegExp]",rg="[object Set]",ng="[object String]",ag="[object Symbol]",sg="[object ArrayBuffer]",ig="[object DataView]",Yi=Li?Li.prototype:void 0,ya=Yi?Yi.valueOf:void 0;function og(e,t,r,n,a,s,i){switch(r){case ig:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sg:return!(e.byteLength!=t.byteLength||!s(new Fi(e),new Fi(t)));case Kp:case Xp:case eg:return Up(+e,+t);case Zp:return e.name==t.name&&e.message==t.message;case tg:case ng:return e==t+"";case Qp:var o=Vp;case rg:var l=n&qp;if(o||(o=Jp),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=Bp,i.set(e,t);var f=Gp(o(e),o(t),n,a,s,i);return i.delete(e),f;case ag:if(ya)return ya.call(e)==ya.call(t)}return!1}var lg=og;function cg(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _s=cg,ug=Array.isArray,We=ug,dg=_s,fg=We;function hg(e,t,r){var n=t(e);return fg(e)?n:dg(n,r(e))}var El=hg;function vg(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var mg=vg;function pg(){return[]}var Ml=pg,gg=mg,yg=Ml,bg=Object.prototype,wg=bg.propertyIsEnumerable,Wi=Object.getOwnPropertySymbols,Sg=Wi?function(e){return e==null?[]:(e=Object(e),gg(Wi(e),function(t){return wg.call(e,t)}))}:yg,Ds=Sg;function _g(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Dg=_g,xg=Zt,Tg=Dt,Og="[object Arguments]";function Eg(e){return Tg(e)&&xg(e)==Og}var Mg=Eg,zi=Mg,$g=Dt,$l=Object.prototype,Cg=$l.hasOwnProperty,jg=$l.propertyIsEnumerable,kg=zi(function(){return arguments}())?zi:function(e){return $g(e)&&Cg.call(e,"callee")&&!jg.call(e,"callee")},xs=kg,bn={exports:{}};function Ag(){return!1}var Pg=Ag;bn.exports;(function(e,t){var r=tt,n=Pg,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(bn,bn.exports);var Nn=bn.exports,Rg=Zt,Ig=hs,Ng=Dt,Lg="[object Arguments]",Fg="[object Array]",Yg="[object Boolean]",Wg="[object Date]",zg="[object Error]",Hg="[object Function]",Ug="[object Map]",Gg="[object Number]",Vg="[object Object]",Jg="[object RegExp]",qg="[object Set]",Bg="[object String]",Kg="[object WeakMap]",Xg="[object ArrayBuffer]",Zg="[object DataView]",Qg="[object Float32Array]",ey="[object Float64Array]",ty="[object Int8Array]",ry="[object Int16Array]",ny="[object Int32Array]",ay="[object Uint8Array]",sy="[object Uint8ClampedArray]",iy="[object Uint16Array]",oy="[object Uint32Array]",ce={};ce[Qg]=ce[ey]=ce[ty]=ce[ry]=ce[ny]=ce[ay]=ce[sy]=ce[iy]=ce[oy]=!0;ce[Lg]=ce[Fg]=ce[Xg]=ce[Yg]=ce[Zg]=ce[Wg]=ce[zg]=ce[Hg]=ce[Ug]=ce[Gg]=ce[Vg]=ce[Jg]=ce[qg]=ce[Bg]=ce[Kg]=!1;function ly(e){return Ng(e)&&Ig(e.length)&&!!ce[Rg(e)]}var cy=ly;function uy(e){return function(t){return e(t)}}var Ln=uy,wn={exports:{}};wn.exports;(function(e,t){var r=ml,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o})(wn,wn.exports);var Ts=wn.exports,dy=cy,fy=Ln,Hi=Ts,Ui=Hi&&Hi.isTypedArray,hy=Ui?fy(Ui):dy,Os=hy,vy=Dg,my=xs,py=We,gy=Nn,yy=vs,by=Os,wy=Object.prototype,Sy=wy.hasOwnProperty;function _y(e,t){var r=py(e),n=!r&&my(e),a=!r&&!n&&gy(e),s=!r&&!n&&!a&&by(e),i=r||n||a||s,o=i?vy(e.length,String):[],l=o.length;for(var u in e)(t||Sy.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yy(u,l)))&&o.push(u);return o}var Cl=_y,Dy=Object.prototype;function xy(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Dy;return e===r}var Es=xy;function Ty(e,t){return function(r){return e(t(r))}}var jl=Ty,Oy=jl,Ey=Oy(Object.keys,Object),My=Ey,$y=Es,Cy=My,jy=Object.prototype,ky=jy.hasOwnProperty;function Ay(e){if(!$y(e))return Cy(e);var t=[];for(var r in Object(e))ky.call(e,r)&&r!="constructor"&&t.push(r);return t}var Py=Ay,Ry=Cl,Iy=Py,Ny=Fr;function Ly(e){return Ny(e)?Ry(e):Iy(e)}var zr=Ly,Fy=El,Yy=Ds,Wy=zr;function zy(e){return Fy(e,Wy,Yy)}var kl=zy,Gi=kl,Hy=1,Uy=Object.prototype,Gy=Uy.hasOwnProperty;function Vy(e,t,r,n,a,s){var i=r&Hy,o=Gi(e),l=o.length,u=Gi(t),f=u.length;if(l!=f&&!i)return!1;for(var h=l;h--;){var d=o[h];if(!(i?d in t:Gy.call(t,d)))return!1}var v=s.get(e),p=s.get(t);if(v&&p)return v==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=i;++h<l;){d=o[h];var w=e[d],S=t[d];if(n)var x=i?n(S,w,d,t,e,s):n(w,S,d,e,t,s);if(!(x===void 0?w===S||a(w,S,r,n,s):x)){m=!1;break}y||(y=d=="constructor")}if(m&&!y){var b=e.constructor,O=t.constructor;b!=O&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof O=="function"&&O instanceof O)&&(m=!1)}return s.delete(e),s.delete(t),m}var Jy=Vy,qy=Nt,By=tt,Ky=qy(By,"DataView"),Xy=Ky,Zy=Nt,Qy=tt,eb=Zy(Qy,"Promise"),tb=eb,rb=Nt,nb=tt,ab=rb(nb,"Set"),sb=ab,ib=Nt,ob=tt,lb=ib(ob,"WeakMap"),cb=lb,za=Xy,Ha=bs,Ua=tb,Ga=sb,Va=cb,Al=Zt,nr=xl,Vi="[object Map]",ub="[object Object]",Ji="[object Promise]",qi="[object Set]",Bi="[object WeakMap]",Ki="[object DataView]",db=nr(za),fb=nr(Ha),hb=nr(Ua),vb=nr(Ga),mb=nr(Va),Ot=Al;(za&&Ot(new za(new ArrayBuffer(1)))!=Ki||Ha&&Ot(new Ha)!=Vi||Ua&&Ot(Ua.resolve())!=Ji||Ga&&Ot(new Ga)!=qi||Va&&Ot(new Va)!=Bi)&&(Ot=function(e){var t=Al(e),r=t==ub?e.constructor:void 0,n=r?nr(r):"";if(n)switch(n){case db:return Ki;case fb:return Vi;case hb:return Ji;case vb:return qi;case mb:return Bi}return t});var Fn=Ot,ba=Ss,pb=Tl,gb=lg,yb=Jy,Xi=Fn,Zi=We,Qi=Nn,bb=Os,wb=1,eo="[object Arguments]",to="[object Array]",en="[object Object]",Sb=Object.prototype,ro=Sb.hasOwnProperty;function _b(e,t,r,n,a,s){var i=Zi(e),o=Zi(t),l=i?to:Xi(e),u=o?to:Xi(t);l=l==eo?en:l,u=u==eo?en:u;var f=l==en,h=u==en,d=l==u;if(d&&Qi(e)){if(!Qi(t))return!1;i=!0,f=!1}if(d&&!f)return s||(s=new ba),i||bb(e)?pb(e,t,r,n,a,s):gb(e,t,l,r,n,a,s);if(!(r&wb)){var v=f&&ro.call(e,"__wrapped__"),p=h&&ro.call(t,"__wrapped__");if(v||p){var m=v?e.value():e,y=p?t.value():t;return s||(s=new ba),a(m,y,r,n,s)}}return d?(s||(s=new ba),yb(e,t,r,n,a,s)):!1}var Db=_b,xb=Db,no=Dt;function Pl(e,t,r,n,a){return e===t?!0:e==null||t==null||!no(e)&&!no(t)?e!==e&&t!==t:xb(e,t,r,n,Pl,a)}var Ms=Pl,Tb=Ms;function Ob(e,t){return Tb(e,t)}var Eb=Ob;const Mb=qe(Eb);function wa(e,t){var r=ms(e);return r?r.innerHeight:t?e.clientHeight:$t(e).height}function Rl(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Mh(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function $b(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Cb=$b,jb=Ss,kb=Ms,Ab=1,Pb=2;function Rb(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var o=r[a];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<s;){o=r[a];var l=o[0],u=e[l],f=o[1];if(i&&o[2]){if(u===void 0&&!(l in e))return!1}else{var h=new jb;if(n)var d=n(u,f,l,e,t,h);if(!(d===void 0?kb(f,u,Ab|Pb,n,h):d))return!1}}return!0}var Ib=Rb,Nb=ht;function Lb(e){return e===e&&!Nb(e)}var Il=Lb,Fb=Il,Yb=zr;function Wb(e){for(var t=Yb(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Fb(a)]}return t}var zb=Wb;function Hb(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Nl=Hb,Ub=Ib,Gb=zb,Vb=Nl;function Jb(e){var t=Gb(e);return t.length==1&&t[0][2]?Vb(t[0][0],t[0][1]):function(r){return r===e||Ub(r,e,t)}}var qb=Jb,Bb=We,Kb=Yr,Xb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zb=/^\w*$/;function Qb(e,t){if(Bb(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Kb(e)?!0:Zb.test(e)||!Xb.test(e)||t!=null&&e in Object(t)}var $s=Qb,Ll=ws,ew="Expected a function";function Cs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ew);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(Cs.Cache||Ll),r}Cs.Cache=Ll;var tw=Cs,rw=tw,nw=500;function aw(e){var t=rw(e,function(n){return r.size===nw&&r.clear(),n}),r=t.cache;return t}var sw=aw,iw=sw,ow=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lw=/\\(\\)?/g,cw=iw(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ow,function(r,n,a,s){t.push(a?s.replace(lw,"$1"):n||r)}),t}),uw=cw;function dw(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var js=dw,ao=Xt,fw=js,hw=We,vw=Yr,mw=1/0,so=ao?ao.prototype:void 0,io=so?so.toString:void 0;function Fl(e){if(typeof e=="string")return e;if(hw(e))return fw(e,Fl)+"";if(vw(e))return io?io.call(e):"";var t=e+"";return t=="0"&&1/e==-mw?"-0":t}var pw=Fl,gw=pw;function yw(e){return e==null?"":gw(e)}var bw=yw,ww=We,Sw=$s,_w=uw,Dw=bw;function xw(e,t){return ww(e)?e:Sw(e,t)?[e]:_w(Dw(e))}var Yn=xw,Tw=Yr,Ow=1/0;function Ew(e){if(typeof e=="string"||Tw(e))return e;var t=e+"";return t=="0"&&1/e==-Ow?"-0":t}var Hr=Ew,Mw=Yn,$w=Hr;function Cw(e,t){t=Mw(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$w(t[r++])];return r&&r==n?e:void 0}var Wn=Cw,jw=Wn;function kw(e,t,r){var n=e==null?void 0:jw(e,t);return n===void 0?r:n}var Aw=kw;function Pw(e,t){return e!=null&&t in Object(e)}var Rw=Pw,Iw=Yn,Nw=xs,Lw=We,Fw=vs,Yw=hs,Ww=Hr;function zw(e,t,r){t=Iw(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=Ww(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Yw(a)&&Fw(i,a)&&(Lw(e)||Nw(e)))}var Hw=zw,Uw=Rw,Gw=Hw;function Vw(e,t){return e!=null&&Gw(e,t,Uw)}var Jw=Vw,qw=Ms,Bw=Aw,Kw=Jw,Xw=$s,Zw=Il,Qw=Nl,eS=Hr,tS=1,rS=2;function nS(e,t){return Xw(e)&&Zw(t)?Qw(eS(e),t):function(r){var n=Bw(r,e);return n===void 0&&n===t?Kw(r,e):qw(t,n,tS|rS)}}var aS=nS;function sS(e){return e}var zn=sS;function iS(e){return function(t){return t==null?void 0:t[e]}}var oS=iS,lS=Wn;function cS(e){return function(t){return lS(t,e)}}var uS=cS,dS=oS,fS=uS,hS=$s,vS=Hr;function mS(e){return hS(e)?dS(vS(e)):fS(e)}var pS=mS,gS=qb,yS=aS,bS=zn,wS=We,SS=pS;function _S(e){return typeof e=="function"?e:e==null?bS:typeof e=="object"?wS(e)?yS(e[0],e[1]):gS(e):SS(e)}var Hn=_S,DS=Cb,xS=Hn,TS=yl,OS=Math.max;function ES(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:TS(r);return a<0&&(a=OS(n+a,0)),DS(e,xS(t),a)}var MS=ES;const $S=qe(MS);var CS=Math.ceil,jS=Math.max;function kS(e,t,r,n){for(var a=-1,s=jS(CS((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var AS=kS,PS=AS,RS=kn,Sa=gl;function IS(e){return function(t,r,n){return n&&typeof n!="number"&&RS(t,r,n)&&(r=n=void 0),t=Sa(t),r===void 0?(r=t,t=0):r=Sa(r),n=n===void 0?t<r?1:-1:Sa(n),PS(t,r,n,e)}}var NS=IS,LS=NS,FS=LS(),YS=FS;const WS=qe(YS);var oo=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function zS(e,t){return!!(e===t||oo(e)&&oo(t))}function HS(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!zS(e[r],t[r]))return!1;return!0}function Yl(e,t){t===void 0&&(t=HS);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}function Ja(e,t){var r=ms(e);return r?r.innerWidth:t?e.clientWidth:$t(e).width}var lo=Xt,US=xs,GS=We,co=lo?lo.isConcatSpreadable:void 0;function VS(e){return GS(e)||US(e)||!!(co&&e&&e[co])}var JS=VS,qS=_s,BS=JS;function Wl(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=BS),a||(a=[]);++s<i;){var o=e[s];t>0&&r(o)?t>1?Wl(o,t-1,r,n,a):qS(a,o):n||(a[a.length]=o)}return a}var zl=Wl;function KS(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(r(s[l],l,s)===!1)break}return t}}var XS=KS,ZS=XS,QS=ZS(),e_=QS,t_=e_,r_=zr;function n_(e,t){return e&&t_(e,t,r_)}var ks=n_,a_=Fr;function s_(e,t){return function(r,n){if(r==null)return r;if(!a_(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var i_=s_,o_=ks,l_=i_,c_=l_(o_),u_=c_,d_=u_,f_=Fr;function h_(e,t){var r=-1,n=f_(e)?Array(e.length):[];return d_(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var v_=h_;function m_(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var p_=m_,uo=Yr;function g_(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=uo(e),i=t!==void 0,o=t===null,l=t===t,u=uo(t);if(!o&&!u&&!s&&e>t||s&&i&&l&&!o&&!u||n&&i&&l||!r&&l||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||o&&r&&a||!i&&a||!l)return-1}return 0}var y_=g_,b_=y_;function w_(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,o=r.length;++n<i;){var l=b_(a[n],s[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var S_=w_,_a=js,__=Wn,D_=Hn,x_=v_,T_=p_,O_=Ln,E_=S_,M_=zn,$_=We;function C_(e,t,r){t.length?t=_a(t,function(s){return $_(s)?function(i){return __(i,s.length===1?s[0]:s)}:s}):t=[M_];var n=-1;t=_a(t,O_(D_));var a=x_(e,function(s,i,o){var l=_a(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return T_(a,function(s,i){return E_(s,i,r)})}var j_=C_;function k_(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var A_=k_,P_=A_,fo=Math.max;function R_(e,t,r){return t=fo(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=fo(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(i),P_(e,this,o)}}var Hl=R_;function I_(e){return function(){return e}}var N_=I_,L_=Nt,F_=function(){try{var e=L_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ul=F_,Y_=N_,ho=Ul,W_=zn,z_=ho?function(e,t){return ho(e,"toString",{configurable:!0,enumerable:!1,value:Y_(t),writable:!0})}:W_,H_=z_,U_=800,G_=16,V_=Date.now;function J_(e){var t=0,r=0;return function(){var n=V_(),a=G_-(n-r);if(r=n,a>0){if(++t>=U_)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var q_=J_,B_=H_,K_=q_,X_=K_(B_),Gl=X_,Z_=zn,Q_=Hl,e0=Gl;function t0(e,t){return e0(Q_(e,t,Z_),e+"")}var Vl=t0,r0=zl,n0=j_,a0=Vl,vo=kn,s0=a0(function(e,t){if(e==null)return[];var r=t.length;return r>1&&vo(e,t[0],t[1])?t=[]:r>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),n0(e,r0(t,1),[])}),i0=s0;const o0=qe(i0);function Jl(e){return Qo(e)||hl(e)||cs(e)||el()}function l0(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var c0=l0,u0=ht,d0=Es,f0=c0,h0=Object.prototype,v0=h0.hasOwnProperty;function m0(e){if(!u0(e))return f0(e);var t=d0(e),r=[];for(var n in e)n=="constructor"&&(t||!v0.call(e,n))||r.push(n);return r}var p0=m0,g0=Cl,y0=p0,b0=Fr;function w0(e){return b0(e)?g0(e,!0):y0(e)}var Un=w0,S0=Vl,_0=Lr,D0=kn,x0=Un,ql=Object.prototype,T0=ql.hasOwnProperty,O0=S0(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&D0(t[0],t[1],a)&&(n=1);++r<n;)for(var s=t[r],i=x0(s),o=-1,l=i.length;++o<l;){var u=i[o],f=e[u];(f===void 0||_0(f,ql[u])&&!T0.call(e,u))&&(e[u]=s[u])}return e}),E0=O0;const M0=qe(E0);var mo=Ul;function $0(e,t,r){t=="__proto__"&&mo?mo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var As=$0,C0=As,j0=ks,k0=Hn;function A0(e,t){var r={};return t=k0(t),j0(e,function(n,a,s){C0(r,a,t(n,a,s))}),r}var P0=A0;const R0=qe(P0);function I0(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Bl=I0,N0=As,L0=Lr,F0=Object.prototype,Y0=F0.hasOwnProperty;function W0(e,t,r){var n=e[t];(!(Y0.call(e,t)&&L0(n,r))||r===void 0&&!(t in e))&&N0(e,t,r)}var Kl=W0,z0=Kl,H0=As;function U0(e,t,r,n){var a=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var o=t[s],l=n?n(r[o],e[o],o,r,e):void 0;l===void 0&&(l=e[o]),a?H0(r,o,l):z0(r,o,l)}return r}var Ur=U0,G0=Ur,V0=zr;function J0(e,t){return e&&G0(t,V0(t),e)}var q0=J0,B0=Ur,K0=Un;function X0(e,t){return e&&B0(t,K0(t),e)}var Z0=X0,Sn={exports:{}};Sn.exports;(function(e,t){var r=tt,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s?r.Buffer:void 0,o=i?i.allocUnsafe:void 0;function l(u,f){if(f)return u.slice();var h=u.length,d=o?o(h):new u.constructor(h);return u.copy(d),d}e.exports=l})(Sn,Sn.exports);var Q0=Sn.exports;function eD(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var tD=eD,rD=Ur,nD=Ds;function aD(e,t){return rD(e,nD(e),t)}var sD=aD,iD=jl,oD=iD(Object.getPrototypeOf,Object),Gn=oD,lD=_s,cD=Gn,uD=Ds,dD=Ml,fD=Object.getOwnPropertySymbols,hD=fD?function(e){for(var t=[];e;)lD(t,uD(e)),e=cD(e);return t}:dD,Xl=hD,vD=Ur,mD=Xl;function pD(e,t){return vD(e,mD(e),t)}var gD=pD,yD=El,bD=Xl,wD=Un;function SD(e){return yD(e,wD,bD)}var Zl=SD,_D=Object.prototype,DD=_D.hasOwnProperty;function xD(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&DD.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var TD=xD,po=Ol;function OD(e){var t=new e.constructor(e.byteLength);return new po(t).set(new po(e)),t}var Ps=OD,ED=Ps;function MD(e,t){var r=t?ED(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var $D=MD,CD=/\w*$/;function jD(e){var t=new e.constructor(e.source,CD.exec(e));return t.lastIndex=e.lastIndex,t}var kD=jD,go=Xt,yo=go?go.prototype:void 0,bo=yo?yo.valueOf:void 0;function AD(e){return bo?Object(bo.call(e)):{}}var PD=AD,RD=Ps;function ID(e,t){var r=t?RD(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var ND=ID,LD=Ps,FD=$D,YD=kD,WD=PD,zD=ND,HD="[object Boolean]",UD="[object Date]",GD="[object Map]",VD="[object Number]",JD="[object RegExp]",qD="[object Set]",BD="[object String]",KD="[object Symbol]",XD="[object ArrayBuffer]",ZD="[object DataView]",QD="[object Float32Array]",e1="[object Float64Array]",t1="[object Int8Array]",r1="[object Int16Array]",n1="[object Int32Array]",a1="[object Uint8Array]",s1="[object Uint8ClampedArray]",i1="[object Uint16Array]",o1="[object Uint32Array]";function l1(e,t,r){var n=e.constructor;switch(t){case XD:return LD(e);case HD:case UD:return new n(+e);case ZD:return FD(e,r);case QD:case e1:case t1:case r1:case n1:case a1:case s1:case i1:case o1:return zD(e,r);case GD:return new n;case VD:case BD:return new n(e);case JD:return YD(e);case qD:return new n;case KD:return WD(e)}}var c1=l1,u1=ht,wo=Object.create,d1=function(){function e(){}return function(t){if(!u1(t))return{};if(wo)return wo(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ql=d1,f1=Ql,h1=Gn,v1=Es;function m1(e){return typeof e.constructor=="function"&&!v1(e)?f1(h1(e)):{}}var p1=m1,g1=Fn,y1=Dt,b1="[object Map]";function w1(e){return y1(e)&&g1(e)==b1}var S1=w1,_1=S1,D1=Ln,So=Ts,_o=So&&So.isMap,x1=_o?D1(_o):_1,T1=x1,O1=Fn,E1=Dt,M1="[object Set]";function $1(e){return E1(e)&&O1(e)==M1}var C1=$1,j1=C1,k1=Ln,Do=Ts,xo=Do&&Do.isSet,A1=xo?k1(xo):j1,P1=A1,R1=Ss,I1=Bl,N1=Kl,L1=q0,F1=Z0,Y1=Q0,W1=tD,z1=sD,H1=gD,U1=kl,G1=Zl,V1=Fn,J1=TD,q1=c1,B1=p1,K1=We,X1=Nn,Z1=T1,Q1=ht,ex=P1,tx=zr,rx=Un,nx=1,ax=2,sx=4,ec="[object Arguments]",ix="[object Array]",ox="[object Boolean]",lx="[object Date]",cx="[object Error]",tc="[object Function]",ux="[object GeneratorFunction]",dx="[object Map]",fx="[object Number]",rc="[object Object]",hx="[object RegExp]",vx="[object Set]",mx="[object String]",px="[object Symbol]",gx="[object WeakMap]",yx="[object ArrayBuffer]",bx="[object DataView]",wx="[object Float32Array]",Sx="[object Float64Array]",_x="[object Int8Array]",Dx="[object Int16Array]",xx="[object Int32Array]",Tx="[object Uint8Array]",Ox="[object Uint8ClampedArray]",Ex="[object Uint16Array]",Mx="[object Uint32Array]",le={};le[ec]=le[ix]=le[yx]=le[bx]=le[ox]=le[lx]=le[wx]=le[Sx]=le[_x]=le[Dx]=le[xx]=le[dx]=le[fx]=le[rc]=le[hx]=le[vx]=le[mx]=le[px]=le[Tx]=le[Ox]=le[Ex]=le[Mx]=!0;le[cx]=le[tc]=le[gx]=!1;function ln(e,t,r,n,a,s){var i,o=t&nx,l=t&ax,u=t&sx;if(r&&(i=a?r(e,n,a,s):r(e)),i!==void 0)return i;if(!Q1(e))return e;var f=K1(e);if(f){if(i=J1(e),!o)return W1(e,i)}else{var h=V1(e),d=h==tc||h==ux;if(X1(e))return Y1(e,o);if(h==rc||h==ec||d&&!a){if(i=l||d?{}:B1(e),!o)return l?H1(e,F1(i,e)):z1(e,L1(i,e))}else{if(!le[h])return a?e:{};i=q1(e,h,o)}}s||(s=new R1);var v=s.get(e);if(v)return v;s.set(e,i),ex(e)?e.forEach(function(y){i.add(ln(y,t,r,y,e,s))}):Z1(e)&&e.forEach(function(y,w){i.set(w,ln(y,t,r,w,e,s))});var p=u?l?G1:U1:l?rx:tx,m=f?void 0:p(e);return I1(m||e,function(y,w){m&&(w=y,y=e[w]),N1(i,w,ln(y,t,r,w,e,s))}),i}var $x=ln;function Cx(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jx=Cx,kx=Wn,Ax=vl;function Px(e,t){return t.length<2?e:kx(e,Ax(t,0,-1))}var Rx=Px,Ix=Yn,Nx=jx,Lx=Rx,Fx=Hr;function Yx(e,t){return t=Ix(t,e),e=Lx(e,t),e==null||delete e[Fx(Nx(t))]}var Wx=Yx,zx=Zt,Hx=Gn,Ux=Dt,Gx="[object Object]",Vx=Function.prototype,Jx=Object.prototype,nc=Vx.toString,qx=Jx.hasOwnProperty,Bx=nc.call(Object);function Kx(e){if(!Ux(e)||zx(e)!=Gx)return!1;var t=Hx(e);if(t===null)return!0;var r=qx.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nc.call(r)==Bx}var Xx=Kx,Zx=Xx;function Qx(e){return Zx(e)?void 0:e}var eT=Qx,tT=zl;function rT(e){var t=e==null?0:e.length;return t?tT(e,1):[]}var nT=rT,aT=nT,sT=Hl,iT=Gl;function oT(e){return iT(sT(e,void 0,aT),e+"")}var lT=oT,cT=js,uT=$x,dT=Wx,fT=Yn,hT=Ur,vT=eT,mT=lT,pT=Zl,gT=1,yT=2,bT=4,wT=mT(function(e,t){var r={};if(e==null)return r;var n=!1;t=cT(t,function(s){return s=fT(s,e),n||(n=s.length>1),s}),hT(e,pT(e),r),n&&(r=uT(r,gT|yT|bT,vT));for(var a=t.length;a--;)dT(r,t[a]);return r}),ST=wT;const _T=qe(ST);var DT=Bl,xT=Ql,TT=ks,OT=Hn,ET=Gn,MT=We,$T=Nn,CT=fs,jT=ht,kT=Os;function AT(e,t,r){var n=MT(e),a=n||$T(e)||kT(e);if(t=OT(t),r==null){var s=e&&e.constructor;a?r=n?new s:[]:jT(e)?r=CT(s)?xT(ET(e)):{}:r={}}return(a?DT:TT)(e,function(i,o,l){return t(r,i,o,l)}),r}var PT=AT;const RT=qe(PT);function Ke(e){return e.children}var Pe={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},re={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},To=Object.keys(re).map(function(e){return re[e]});k.oneOfType([k.string,k.func]);k.any;k.func;k.oneOfType([k.arrayOf(k.oneOf(To)),k.objectOf(function(e,t){var r=To.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return k.elementType.apply(k,[e,t].concat(a))})]);k.oneOfType([k.oneOf(["overlap","no-overlap"]),k.func]);var Oo={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function ac(e,t){var r=Oe(e,"month");return Oe(r,"week",t.startOfWeek())}function sc(e,t){var r=pn(e,"month");return pn(r,"week",t.startOfWeek())}function IT(e,t){for(var r=ac(e,t),n=sc(e,t),a=[];Bt(r,n,"day");)a.push(r),r=Ge(r,1,"day");return a}function NT(e,t){var r=Oe(e,t);return Ir(r,e)?r:Ge(r,1,t)}function LT(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];Bt(n,t,r);)a.push(n),n=Ge(n,1,r);return a}function FT(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Oe(e,"day"),e=Mr(e,Mr(t)),e=qt(e,qt(t)),e=Er(e,Er(t)),Or(e,Or(t)))}function Eo(e){return Mr(e)===0&&qt(e)===0&&Er(e)===0&&Or(e)===0}function YT(e,t,r,n){return r==="day"&&(r="date"),Math.abs(yi[r](e,void 0,n)-yi[r](t,void 0,n))}function Rs(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Oe(e,r)/Oo[r]-+Oe(t,r)/Oo[r]))}var WT=k.oneOfType([k.string,k.func]);function zT(e,t,r,n,a){var s=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return wr(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function HT(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Is(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function UT(e,t){return Rs(e,t,"minutes")+Is(e,t)}function GT(e){var t=Oe(e,"day");return Rs(t,e,"minutes")+Is(t,e)}function VT(e,t){return ds(e,t,"day")}function JT(e,t,r){var n=Ir(e,t,"minutes");return n?Nr(t,r,"minutes"):jn(t,r,"minutes")}function qa(e,t){return YT(e,t,"day")}function qT(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,s=e.evtB,i=s.start,o=s.end,l=s.allDay,u=+Oe(r,"day")-+Oe(i,"day"),f=qa(r,n),h=qa(i,o);return u||h-f||!!l-!!a||+r-+i||+n-+o}function BT(e){var t=e.event,r=t.start,n=t.end,a=e.range,s=a.start,i=a.end,o=Oe(r,"day"),l=Bt(o,i,"day"),u=us(o,n,"minutes"),f=u?jn(n,s,"minutes"):Nr(n,s,"minutes");return l&&f}function KT(e,t){return Ir(e,t,"day")}function XT(e,t){return Eo(e)&&Eo(t)}var ZT=xe(function e(t){var r=this;De(this,e),wr(typeof t.format=="function","date localizer `format(..)` must be a function"),wr(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||WT,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return zT.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||FT,this.inRange=t.inRange||cl,this.lt=t.lt||ds,this.lte=t.lte||Bt,this.gt=t.gt||jn,this.gte=t.gte||Nr,this.eq=t.eq||Ir,this.neq=t.neq||us,this.startOf=t.startOf||Oe,this.endOf=t.endOf||pn,this.add=t.add||Ge,this.range=t.range||LT,this.diff=t.diff||Rs,this.ceil=t.ceil||NT,this.min=t.min||ol,this.max=t.max||ll,this.minutes=t.minutes||qt,this.daySpan=t.daySpan||qa,this.firstVisibleDay=t.firstVisibleDay||ac,this.lastVisibleDay=t.lastVisibleDay||sc,this.visibleDays=t.visibleDays||IT,this.getSlotDate=t.getSlotDate||HT,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Is,this.getTotalMin=t.getTotalMin||UT,this.getMinutesFromMidnight=t.getMinutesFromMidnight||GT,this.continuesPrior=t.continuesPrior||VT,this.continuesAfter=t.continuesAfter||JT,this.sortEvents=t.sortEvents||qT,this.inEventRange=t.inEventRange||BT,this.isSameDate=t.isSameDate||KT,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||XT,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function QT(e,t,r,n){var a=oe(oe({},e.formats),r);return oe(oe({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,o){return e.format(i,a[o]||o,t)}})}var eO=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,s=n.label;return g.createElement("div",{className:"rbc-toolbar"},g.createElement("span",{className:"rbc-btn-group"},g.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pe.TODAY)},a.today),g.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pe.PREVIOUS)},a.previous),g.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pe.NEXT)},a.next)),g.createElement("span",{className:"rbc-toolbar-label"},s),g.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,s=this.props.views,i=this.props.view;if(s.length>1)return s.map(function(o){return g.createElement("button",{type:"button",key:o,className:pe({"rbc-active":i===o}),onClick:a.view.bind(null,o)},n[o])})}}])}(g.Component);function ue(e,t){e&&e.apply(null,[].concat(t))}var tO={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function rO(e){return oe(oe({},tO),e)}function nO(e){var t=e.ref,r=e.callback;I.useEffect(function(){var n=function(s){t.current&&!t.current.contains(s.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var aO=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],ic=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.style,s=n.className,i=n.event,o=n.selected,l=n.isAllDay,u=n.onSelect,f=n.onDoubleClick,h=n.onKeyPress,d=n.localizer,v=n.continuesPrior,p=n.continuesAfter,m=n.accessors,y=n.getters,w=n.children,S=n.components,x=S.event,b=S.eventWrapper,O=n.slotStart,A=n.slotEnd,_=Qe(n,aO);delete _.resizable;var E=m.title(i),M=m.tooltip(i),N=m.end(i),F=m.start(i),V=m.allDay(i),Y=l||V||d.diff(F,d.ceil(N,"day"),"day")>1,q=y.eventProp(i,F,N,o),z=g.createElement("div",{className:"rbc-event-content",title:M||void 0},x?g.createElement(x,{event:i,continuesPrior:v,continuesAfter:p,title:E,isAllDay:V,localizer:d,slotStart:O,slotEnd:A}):E);return g.createElement(b,Object.assign({},this.props,{type:"date"}),g.createElement("div",Object.assign({},_,{style:oe(oe({},q.style),a),className:pe("rbc-event",s,q.className,{"rbc-selected":o,"rbc-event-allday":Y,"rbc-event-continues-prior":v,"rbc-event-continues-after":p}),onClick:function(D){return u&&u(i,D)},onDoubleClick:function(D){return f&&f(i,D)},onKeyDown:function(D){return h&&h(i,D)}}),typeof w=="function"?w(z):z))}}])}(g.Component);function Vn(e,t){return!e||t==null?!1:Mb(e,t)}function oc(e,t){var r=e.right-e.left,n=r/t;return n}function lc(e,t,r,n){var a=oc(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function sO(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function iO(e,t,r,n,a){var s=-1,i=-1,o=n-1,l=oc(t,n),u=lc(t,r.x,a,n),f=t.top<r.y&&t.bottom>r.y,h=t.top<e.y&&t.bottom>e.y,d=e.y>t.bottom,v=t.top>e.y,p=r.top<t.top&&r.bottom>t.bottom;return p&&(s=0,i=o),f&&(v?(s=0,i=u):d&&(s=u,i=o)),h&&(s=i=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),f?u<s?s=u:i=u:e.y<r.y?i=o:s=0),{startIdx:s,endIdx:i}}function oO(e){var t=e.target,r=e.offset,n=e.container,a=e.box,s=$t(t),i=s.top,o=s.left,l=s.width,u=s.height,f=$t(n),h=f.top,d=f.left,v=f.width,p=f.height,m=$t(a),y=m.width,w=m.height,S=h+p,x=d+v,b=i+w,O=o+y,A=r.x,_=r.y,E=b>S?i-w-_:i+_+u,M=O>x?o+A-y+l:o+A;return{topOffset:E,leftOffset:M}}function lO(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,s=e.components,i=e.localizer,o=e.position,l=e.show,u=e.events,f=e.slotStart,h=e.slotEnd,d=e.onSelect,v=e.onDoubleClick,p=e.onKeyPress,m=e.handleDragStart,y=e.popperRef,w=e.target,S=e.offset;nO({ref:y,callback:l}),I.useLayoutEffect(function(){var O=oO({target:w,offset:S,container:t.current,box:y.current}),A=O.topOffset,_=O.leftOffset;y.current.style.top="".concat(A,"px"),y.current.style.left="".concat(_,"px")},[S.x,S.y,w]);var x=o.width,b={minWidth:x+x/2};return g.createElement("div",{style:b,className:"rbc-overlay",ref:y},g.createElement("div",{className:"rbc-overlay-header"},i.format(f,"dayHeaderFormat")),u.map(function(O,A){return g.createElement(ic,{key:A,type:"popup",localizer:i,event:O,getters:n,onSelect:d,accessors:r,components:s,onDoubleClick:v,onKeyPress:p,continuesPrior:i.lt(r.end(O),f,"day"),continuesAfter:i.gte(r.start(O),h,"day"),slotStart:f,slotEnd:h,selected:Vn(O,a),draggable:!0,onDragStart:function(){return m(O)},onDragEnd:function(){return l()}})}))}var cc=g.forwardRef(function(e,t){return g.createElement(lO,Object.assign({},e,{popperRef:t}))});cc.propTypes={accessors:k.object.isRequired,getters:k.object.isRequired,selected:k.object,components:k.object.isRequired,localizer:k.object.isRequired,position:k.object.isRequired,show:k.func.isRequired,events:k.array.isRequired,slotStart:k.instanceOf(Date).isRequired,slotEnd:k.instanceOf(Date),onSelect:k.func,onDoubleClick:k.func,onKeyPress:k.func,handleDragStart:k.func,style:k.object,offset:k.shape({x:k.number,y:k.number})};function cO(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,s=e.accessors,i=e.localizer,o=e.components,l=e.getters,u=e.selected,f=e.handleSelectEvent,h=e.handleDoubleClickEvent,d=e.handleKeyPressEvent,v=e.handleDragStart,p=e.onHide,m=e.overlayDisplay,y=I.useRef(null);if(!a.position)return null;var w=n;isNaN(n)||(w={x:n,y:n});var S=a.position,x=a.events,b=a.date,O=a.end;return g.createElement(tv,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:a.target},function(A){var _=A.props;return g.createElement(cc,Object.assign({},_,{containerRef:t,ref:y,target:a.target,offset:w,accessors:s,getters:l,selected:u,components:o,localizer:i,position:S,show:m,events:x,slotStart:b,slotEnd:O,onSelect:f,onDoubleClick:h,onKeyPress:d,handleDragStart:v}))})}var Ns=g.forwardRef(function(e,t){return g.createElement(cO,Object.assign({},e,{containerRef:t}))});Ns.propTypes={popupOffset:k.oneOfType([k.number,k.shape({x:k.number,y:k.number})]),overlay:k.shape({position:k.object,events:k.array,date:k.instanceOf(Date),end:k.instanceOf(Date)}),accessors:k.object.isRequired,localizer:k.object.isRequired,components:k.object.isRequired,getters:k.object.isRequired,selected:k.object,handleSelectEvent:k.func,handleDoubleClickEvent:k.func,handleKeyPressEvent:k.func,handleDragStart:k.func,onHide:k.func,overlayDisplay:k.func};function Ee(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return hr(r,e,t,{passive:!1})}function uO(e,t,r){return!e||$r(e,document.elementFromPoint(t,r))}function dO(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return Rl(a,".rbc-event",e)}function fO(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return Rl(a,".rbc-show-more",e)}function _n(e,t){return!!dO(e,t)}function hO(e,t){return!!fO(e,t)}function ur(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Mo=5,vO=250,uc=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,s=r.longPressThreshold,i=s===void 0?250:s,o=r.validContainers,l=o===void 0?[]:o;De(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ee("touchmove",function(){},window),this._removeKeyDownListener=Ee("keydown",this._keyListener),this._removeKeyUpListener=Ee("keyup",this._keyListener),this._removeDropFromOutsideListener=Ee("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ee("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return xe(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var i=a.indexOf(n);i!==-1&&a.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var i,o=this._listeners[r]||[];return o.forEach(function(l){i===void 0&&(i=l.apply(void 0,a))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:$o(n,It(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,s=null,i=null,o=null,l=function(d){s=setTimeout(function(){f(),r(d)},a.longPressThreshold),i=Ee("touchmove",function(){return f()}),o=Ee("touchend",function(){return f()})},u=Ee("touchstart",l),f=function(){s&&clearTimeout(s),i&&i(),o&&o(),s=null,i=null,o=null};return n&&l(n),function(){f(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Ee("mousedown",function(s){r._removeInitialEventListener(),r._handleInitialEvent(s),r._removeInitialEventListener=Ee("mousedown",r._handleInitialEvent)}),a=Ee("touchstart",function(s){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,s)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=ur(r),a=n.pageX,s=n.pageY,i=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:s,clientX:i,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=ur(r),a=n.pageX,s=n.pageY,i=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:s,clientX:i,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=ur(r),a=n.clientX,s=n.clientY,i=n.pageX,o=n.pageY,l=this.container(),u,f;if(!(r.which===3||r.button===2||!uO(l,a,s))){if(!this.globalMouse&&l&&!$r(l,r.target)){var h=mO(0),d=h.top,v=h.left,p=h.bottom,m=h.right;if(f=It(l),u=$o({top:f.top-d,left:f.left-v,bottom:f.bottom+p,right:f.right+m},{top:o,left:i}),!u)return}var y=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:o,clientX:a,clientY:s});if(y!==!1)switch(r.type){case"mousedown":this._removeEndListener=Ee("mouseup",this._handleTerminatingEvent),this._onEscListener=Ee("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ee("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Ee("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ee("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(s){return!!n.closest(s)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var s=!this.container||$r(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&s?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=ur(r),a=n.pageX,s=n.pageY,i=n.clientX,o=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<vO?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:s,clientX:i,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:s,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,s=n.y,i=ur(r),o=i.pageX,l=i.pageY,u=Math.abs(a-o),f=Math.abs(s-l),h=Math.min(o,a),d=Math.min(l,s),v=this.selecting,p=this.isClick(o,l);p&&!v&&!(u||f)||(!v&&!p&&this.emit("selectStart",this._initialEventData),p||(this.selecting=!0,this._selectRect={top:d,left:h,x:o,y:l,right:h+u,bottom:d+f},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,s=a.x,i=a.y,o=a.isTouch;return!o&&Math.abs(r-s)<=Mo&&Math.abs(n-i)<=Mo}}])}();function mO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Cn(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function $o(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=It(e),a=n.top,s=n.left,i=n.right,o=i===void 0?s:i,l=n.bottom,u=l===void 0?a:l,f=It(t),h=f.top,d=f.left,v=f.right,p=v===void 0?d:v,m=f.bottom,y=m===void 0?h:m;return!(u-r<h||a+r>y||o-r<d||s+r>p)}function It(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Co("left"),n=t.top+Co("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Co(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var pO=function(e){function t(r,n){var a;return De(this,t),a=Ce(this,t,[r,n]),a.state={selecting:!1},a.containerRef=I.createRef(),a}return je(t,e),xe(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,s=n.getNow,i=n.getters,o=n.date,l=n.components.dateCellWrapper,u=n.localizer,f=this.state,h=f.selecting,d=f.startIdx,v=f.endIdx,p=s();return g.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(m,y){var w=h&&y>=d&&y<=v,S=i.dayProp(m),x=S.className,b=S.style;return g.createElement(l,{key:y,value:m,range:a},g.createElement("div",{style:b,className:pe("rbc-day-bg",x,w&&"rbc-selected-cell",u.isSameDate(m,p)&&"rbc-today",o&&u.neq(o,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,s=this._selector=new uc(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(l,u){if(!_n(a,l)&&!hO(a,l)){var f=It(a),h=n.props,d=h.range,v=h.rtl;if(sO(f,l)){var p=lc(f,l.x,v,d.length);n._selectSlot({startIdx:p,endIdx:p,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};s.on("selecting",function(o){var l=n.props,u=l.range,f=l.rtl,h=-1,d=-1;if(n.state.selecting||(ue(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),s.isSelected(a)){var v=It(a),p=iO(n._initial,v,o,u.length,f);h=p.startIdx,d=p.endIdx}n.setState({selecting:!0,startIdx:h,endIdx:d})}),s.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!_n(n.containerRef.current,o)}),s.on("click",function(o){return i(o,"click")}),s.on("doubleClick",function(o){return i(o,"doubleClick")}),s.on("select",function(o){n._selectSlot(oe(oe({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),ue(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,s=n.startIdx,i=n.action,o=n.bounds,l=n.box;a!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:a,action:i,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(g.Component),Ie={propTypes:{slotMetrics:k.object.isRequired,selected:k.object,isAllDay:k.bool,accessors:k.object.isRequired,localizer:k.object.isRequired,components:k.object.isRequired,getters:k.object.isRequired,onSelect:k.func,onDoubleClick:k.func,onKeyPress:k.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,s=t.getters,i=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,f=t.slotMetrics,h=t.components,d=t.resizable,v=f.continuesPrior(r),p=f.continuesAfter(r);return g.createElement(ic,{event:r,getters:s,localizer:u,accessors:a,components:h,onSelect:i,onDoubleClick:o,onKeyPress:l,continuesPrior:v,continuesAfter:p,slotStart:f.first,slotEnd:f.last,selected:Vn(r,n),resizable:d})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(r)/t*100+"%";return g.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},a)}},dc=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.segments,i=a.slotMetrics.slots,o=a.className,l=1;return g.createElement("div",{className:pe(o,"rbc-row")},s.reduce(function(u,f,h){var d=f.event,v=f.left,p=f.right,m=f.span,y="_lvl_"+h,w=v-l,S=Ie.renderEvent(n.props,d);return w&&u.push(Ie.renderSpan(i,w,"".concat(y,"_gap"))),u.push(Ie.renderSpan(i,m,y,S)),l=p+1,u},[]))}}])}(g.Component);dc.defaultProps=oe({},Ie.defaultProps);function fc(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function gO(e,t,r,n){var a=fc({dateRange:t,localizer:n}),s=a.first,i=a.last,o=n.diff(s,i,"day"),l=n.max(n.startOf(r.start(e),"day"),s),u=n.min(n.ceil(r.end(e),"day"),i),f=$S(t,function(d){return n.isSameDate(d,l)}),h=n.diff(l,u,"day");return h=Math.min(h,o),h=Math.max(h-n.segmentOffset,1),{event:e,span:h,left:f+1,right:Math.max(f+h,1)}}function Ba(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,s=[],i=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<s.length&&yO(a,s[n]);n++);n>=t?i.push(a):(s[n]||(s[n]=[])).push(a)}for(r=0;r<s.length;r++)s[r].sort(function(o,l){return o.left-l.left});return{levels:s,extra:i}}function Cr(e,t,r,n,a){var s={start:n.start(e),end:n.end(e)},i={start:t,end:r};return a.inEventRange({event:s,range:i})}function yO(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function bO(e,t,r){var n=on(e),a=[],s=[];n.forEach(function(l){var u=t.start(l),f=t.end(l);r.daySpan(u,f)>1?a.push(l):s.push(l)});var i=a.sort(function(l,u){return Ka(l,u,t,r)}),o=s.sort(function(l,u){return Ka(l,u,t,r)});return[].concat(on(i),on(o))}function Ka(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:s})}var Xa=function(t,r){return t.left<=r&&t.right>=r},Da=function(t,r){return t.filter(function(n){return Xa(n,r)}).map(function(n){return n.event})},hc=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,s=n.slotMetrics.slots,i=Ba(a).levels[0],o=1,l=1,u=[];o<=s;){var f="_lvl_"+o,h=i.filter(function(b){return Xa(b,o)})[0]||{},d=h.event,v=h.left,p=h.right,m=h.span;if(!d){var y=this.getHiddenEventsForSlot(a,o);if(y.length>0){var w=o-l;w&&u.push(Ie.renderSpan(s,w,f+"_gap")),u.push(Ie.renderSpan(s,1,f,this.renderShowMore(a,o))),l=o=o+1;continue}o++;continue}var S=Math.max(0,v-l);if(this.canRenderSlotEvent(v,m)){var x=Ie.renderEvent(this.props,d);S&&u.push(Ie.renderSpan(s,S,f+"_gap")),u.push(Ie.renderSpan(s,m,f,x)),l=o=p+1}else S&&u.push(Ie.renderSpan(s,S,f+"_gap")),u.push(Ie.renderSpan(s,1,f,this.renderShowMore(a,o))),l=o=o+1}return g.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var s=Da(n,a),i=Ba(n).levels[0],o=i.filter(function(l){return Xa(l,a)}).map(function(l){return l.event});return s.filter(function(l){return!o.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var s=this.props.segments;return WS(n,n+a).every(function(i){var o=Da(s,i).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var s=this,i=this.props,o=i.localizer,l=i.slotMetrics,u=i.components,f=l.getEventsForSlot(a),h=Da(n,a),d=h.length;if(u!=null&&u.showMore){var v=u.showMore,p=l.getDateForSlot(a-1);return d?g.createElement(v,{localizer:o,slotDate:p,slot:a,count:d,events:f,remainingEvents:h}):!1}return d?g.createElement("button",{type:"button",key:"sm_"+a,className:pe("rbc-button-link","rbc-show-more"),onClick:function(y){return s.showMore(a,y)}},o.messages.showMore(d,h,f)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(g.Component);hc.defaultProps=oe({},Ie.defaultProps);var wO=function(t){var r=t.children;return g.createElement("div",{className:"rbc-row-content-scroll-container"},r)},SO=function(t,r){return t.left<=r&&t.right>=r},_O=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function vc(){return Yl(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,s=e.accessors,i=e.localizer,o=fc({dateRange:t,localizer:i}),l=o.first,u=o.last,f=r.map(function(m){return gO(m,t,s,i)}),h=Ba(f,Math.max(n-1,1)),d=h.levels,v=h.extra,p=v.length>0?a-1:a;d.length<p;)d.push([]);return{first:l,last:u,levels:d,extra:v,range:t,slots:t.length,clone:function(y){var w=vc();return w(oe(oe({},e),y))},getDateForSlot:function(y){return t[y]},getSlotForDate:function(y){return t.find(function(w){return i.isSameDate(w,y)})},getEventsForSlot:function(y){return f.filter(function(w){return SO(w,y)}).map(function(w){return w.event})},continuesPrior:function(y){return i.continuesPrior(s.start(y),l)},continuesAfter:function(y){var w=s.start(y),S=s.end(y);return i.continuesAfter(w,S,u)}}},_O)}var jr=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.handleSelectSlot=function(i){var o=r.props,l=o.range,u=o.onSelectSlot;u(l.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,o){var l=r.props,u=l.range,f=l.onShowMore,h=r.slotMetrics(r.props),d=Ch(r.containerRef.current,".rbc-row-bg")[0],v;d&&(v=d.children[i-1]);var p=h.getEventsForSlot(i);f(p,u[i-1],v,i,o)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,o){var l=r.props,u=l.renderHeader,f=l.getNow,h=l.localizer;return u({date:i,key:"header_".concat(o),className:pe("rbc-date-cell",h.isSameDate(i,f())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,o=i.className,l=i.range,u=i.renderHeader,f=i.showAllEvents;return g.createElement("div",{className:o,ref:r.containerRef},g.createElement("div",{className:pe("rbc-row-content",f&&"rbc-row-content-scrollable")},u&&g.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),g.createElement("div",{className:"rbc-row",ref:r.eventRowRef},g.createElement("div",{className:"rbc-row-segment"},g.createElement("div",{className:"rbc-event"},g.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=I.createRef(),r.headingRowRef=I.createRef(),r.eventRowRef=I.createRef(),r.slotMetrics=vc(),r}return je(t,e),xe(t,[{key:"getRowLimit",value:function(){var n,a=wa(this.eventRowRef.current),s=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?wa(this.headingRowRef.current):0,i=wa(this.containerRef.current)-s;return Math.max(Math.floor(i/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.rtl,i=n.range,o=n.className,l=n.selected,u=n.selectable,f=n.renderForMeasure,h=n.accessors,d=n.getters,v=n.components,p=n.getNow,m=n.renderHeader,y=n.onSelect,w=n.localizer,S=n.onSelectStart,x=n.onSelectEnd,b=n.onDoubleClick,O=n.onKeyPress,A=n.resourceId,_=n.longPressThreshold,E=n.isAllDay,M=n.resizable,N=n.showAllEvents;if(f)return this.renderDummy();var F=this.slotMetrics(this.props),V=F.levels,Y=F.extra,q=N?wO:Ke,z=v.weekWrapper,J={selected:l,accessors:h,getters:d,localizer:w,components:v,onSelect:y,onDoubleClick:b,onKeyPress:O,resourceId:A,slotMetrics:F,resizable:M};return g.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},g.createElement(pO,{localizer:w,date:a,getNow:p,rtl:s,range:i,selectable:u,container:this.getContainer,getters:d,onSelectStart:S,onSelectEnd:x,onSelectSlot:this.handleSelectSlot,components:v,longPressThreshold:_,resourceId:A}),g.createElement("div",{className:pe("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},m&&g.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),g.createElement(q,null,g.createElement(z,Object.assign({isAllDay:E},J,{rtl:this.props.rtl}),V.map(function(D,j){return g.createElement(dc,Object.assign({key:j,segments:D},J))}),!!Y.length&&g.createElement(hc,Object.assign({segments:Y,onShowMore:this.handleShowMore},J))))))}}])}(g.Component);jr.defaultProps={minRows:0,maxRows:1/0};var Ls=function(t){var r=t.label;return g.createElement("span",{role:"columnheader","aria-sort":"none"},r)},DO=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?g.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):g.createElement("span",null,r)},xO=["date","className"],TO=function(t,r,n,a,s){return t.filter(function(i){return Cr(i,r,n,a,s)})},Jn=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,o){var l=r.props,u=l.events,f=l.components,h=l.selectable,d=l.getNow,v=l.selected,p=l.date,m=l.localizer,y=l.longPressThreshold,w=l.accessors,S=l.getters,x=l.showAllEvents,b=r.state,O=b.needLimitMeasure,A=b.rowLimit,_=TO(on(u),i[0],i[i.length-1],w,m),E=bO(_,w,m);return g.createElement(jr,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:d,date:p,range:i,events:E,maxRows:x?1/0:A,selected:v,selectable:h,components:f,accessors:w,getters:S,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:O,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:y,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:x})},r.readerDateHeading=function(i){var o=i.date,l=i.className,u=Qe(i,xO),f=r.props,h=f.date,d=f.getDrilldownView,v=f.localizer,p=v.neq(h,o,"month"),m=v.isSameDate(o,h),y=d(o),w=v.format(o,"dateFormat"),S=r.props.components.dateHeader||DO;return g.createElement("div",Object.assign({},u,{className:pe(l,p&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),g.createElement(S,{label:w,date:o,drilldownView:y,isOffRange:p,onDrillDown:function(b){return r.handleHeadingClick(o,y,b)}}))},r.handleSelectSlot=function(i,o){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(i,o,l){l.preventDefault(),r.clearSelection(),ue(r.props.onDrillDown,[i,o])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onKeyPressEvent,o)},r.handleShowMore=function(i,o,l,u,f){var h=r.props,d=h.popup,v=h.onDrillDown,p=h.onShowMore,m=h.getDrilldownView,y=h.doShowMoreDrillDown;if(r.clearSelection(),d){var w=_l(l,r.containerRef.current);r.setState({overlay:{date:o,events:i,position:w,target:f}})}else y&&ue(v,[o,m(o)||re.DAY]);ue(p,[i,o,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=I.createRef(),r.slotRowRef=I.createRef(),r._bgRows=[],r._pendingSelection=[],r}return je(t,e),xe(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||Dl(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.className,o=s.visibleDays(a,s),l=vh(o,7);return this._weekCount=l.length,g.createElement("div",{className:pe("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},g.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,s=a.localizer,i=a.components,o=n[0],l=n[n.length-1],u=i.header||Ls;return s.range(o,l,"day").map(function(f,h){return g.createElement("div",{key:"header_"+h,className:"rbc-header"},g.createElement(u,{date:f,localizer:s,label:s.format(f,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,s=this,i=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,u=o.localizer,f=o.components,h=o.getters,d=o.selected,v=o.popupOffset,p=o.handleDragStart,m=function(){return s.setState({overlay:null})};return g.createElement(Ns,{overlay:i,accessors:l,localizer:u,components:f,getters:h,selected:d,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var s=new Date(a[0]),i=new Date(a[a.length-1]);i.setDate(a[a.length-1].getDate()+1),ue(this.props.onSelectSlot,{slots:a,start:s,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var s=n.date,i=n.localizer;return{date:s,needLimitMeasure:i.neq(s,a.date,"month")}}}])}(g.Component);Jn.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};Jn.navigate=function(e,t,r){var n=r.localizer;switch(t){case Pe.PREVIOUS:return n.add(e,-1,"month");case Pe.NEXT:return n.add(e,1,"month");default:return e}};Jn.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var jo=function(t){var r=t.min,n=t.max,a=t.step,s=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(a,"-").concat(s)};function Fs(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,s=e.localizer,i=jo({start:t,end:r,step:n,timeslots:a,localizer:s}),o=1+s.getTotalMin(t,r),l=s.getMinutesFromMidnight(t),u=Math.ceil((o-1)/(n*a)),f=u*a,h=new Array(u),d=new Array(f),v=0;v<u;v++){h[v]=new Array(a);for(var p=0;p<a;p++){var m=v*a+p,y=m*n;d[m]=h[v][p]=s.getSlotDate(t,l,y)}}var w=d.length*n;d.push(s.getSlotDate(t,l,w));function S(x){var b=s.diff(t,x,"minutes")+s.getDstOffset(t,x);return Math.min(b,o)}return{groups:h,update:function(b){return jo(b)!==i?Fs(b):this},dateIsInGroup:function(b,O){var A=h[O+1];return s.inRange(b,h[O][0],A?A[0]:r,"minutes")},nextSlot:function(b){var O=d[Math.min(d.findIndex(function(A){return A===b||s.eq(A,b)})+1,d.length-1)];return s.eq(O,b)&&(O=s.add(b,n,"minutes")),O},closestSlotToPosition:function(b){var O=Math.min(d.length-1,Math.max(0,Math.floor(b*f)));return d[O]},closestSlotFromPoint:function(b,O){var A=Math.abs(O.top-O.bottom);return this.closestSlotToPosition((b.y-O.top)/A)},closestSlotFromDate:function(b){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(b,t,"minutes"))return d[0];if(s.gt(b,r,"minutes"))return d[d.length-1];var A=s.diff(t,b,"minutes");return d[(A-A%n)/n+O]},startsBeforeDay:function(b){return s.lt(b,t,"day")},startsAfterDay:function(b){return s.gt(b,r,"day")},startsBefore:function(b){return s.lt(s.merge(t,b),t,"minutes")},startsAfter:function(b){return s.gt(s.merge(r,b),r,"minutes")},getRange:function(b,O,A,_){A||(b=s.min(r,s.max(t,b))),_||(O=s.min(r,s.max(t,O)));var E=S(b),M=S(O),N=M>n*f&&!s.eq(r,O)?(E-n)/(n*f)*100:E/(n*f)*100;return{top:N,height:M/(n*f)*100-N,start:S(b),startDate:b,end:S(O),endDate:O}},getCurrentTimePosition:function(b){var O=S(b),A=O/(n*f)*100;return A}}}var OO=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;De(this,e);var s=a.getRange(n.start(t),n.end(t)),i=s.start,o=s.startDate,l=s.end,u=s.endDate,f=s.top,h=s.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+u,this.top=f,this.height=h,this.data=t}return xe(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,s){return Math.max(a,s.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,s=a.indexOf(this);return s===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,s=r._width,i=n.indexOf(this)+1;return a+i*s}}])}();function EO(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function MO(e){for(var t=o0(e,["startMs",function(o){return-o.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var s=t[a];if(!(n.endMs>s.startMs)){if(a>0){var i=t.splice(a,1)[0];r.push(i)}break}}}return r}function mc(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=t.map(function(f){return new OO(f,{slotMetrics:n,accessors:a})}),i=MO(s),o=[],l=function(){var h=i[u],d=o.find(function(m){return m.end>h.start||Math.abs(h.start-m.start)<r});if(!d)return h.rows=[],o.push(h),1;h.container=d;for(var v=null,p=d.rows.length-1;!v&&p>=0;p--)EO(d.rows[p],h,r)&&(v=d.rows[p]);v?(v.leaves.push(h),h.row=v):(h.leaves=[],d.rows.push(h))},u=0;u<i.length;u++)l();return i.map(function(f){return{event:f.data,style:{top:f.top,height:f.height,width:f.width,xOffset:Math.max(0,f.xOffset)}}})}function pc(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=pc(e.friends[n],t,r);t=t>a?t:a}return t}function $O(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=mc({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});s.sort(function(z,J){return z=z.style,J=J.style,z.top!==J.top?z.top>J.top?1:-1:z.height!==J.height?z.top+z.height<J.top+J.height?1:-1:0});for(var i=0;i<s.length;++i)s[i].friends=[],delete s[i].style.left,delete s[i].style.left,delete s[i].idx,delete s[i].size;for(var o=0;o<s.length-1;++o)for(var l=s[o],u=l.style.top,f=l.style.top+l.style.height,h=o+1;h<s.length;++h){var d=s[h],v=d.style.top,p=d.style.top+d.style.height;(v>=u&&p<=f||p>u&&p<=f||v>=u&&v<f)&&(l.friends.push(d),d.friends.push(l))}for(var m=0;m<s.length;++m){for(var y=s[m],w=[],S=0;S<100;++S)w.push(1);for(var x=0;x<y.friends.length;++x)y.friends[x].idx!==void 0&&(w[y.friends[x].idx]=0);y.idx=w.indexOf(1)}for(var b=0;b<s.length;++b){var O=0;if(!s[b].size){var A=[],_=pc(s[b],0,A);O=100/(_+1),s[b].size=O;for(var E=0;E<A.length;++E)A[E].size=O}}for(var M=0;M<s.length;++M){var N=s[M];N.style.left=N.idx*N.size;for(var F=0,V=0;V<N.friends.length;++V){var Y=N.friends[V].idx;F=F>Y?F:Y}F<=N.idx&&(N.size=100-N.idx*N.size);var q=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(q,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(q,"px)")}return s}var ko={overlap:mc,"no-overlap":$O};function CO(e){return!!(e&&e.constructor&&e.call&&e.apply)}function jO(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in ko&&(r=ko[t]),CO(r)?r.apply(this,arguments):[]}var gc=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,s=n.resource,i=n.group,o=n.getters,l=n.components,u=l===void 0?{}:l,f=u.timeSlotWrapper,h=f===void 0?Ke:f,d=o?o.slotGroupProp(i):{};return g.createElement("div",Object.assign({className:"rbc-timeslot-group"},d),i.map(function(v,p){var m=o?o.slotProp(v,s):{};return g.createElement(h,{key:p,value:v,resource:s},g.createElement("div",Object.assign({},m,{className:pe("rbc-time-slot",m.className)}),a&&a(v,p)))}))}}])}(I.Component);function tn(e){return typeof e=="string"?e:e+"%"}function kO(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,s=e.rtl,i=e.selected,o=e.label,l=e.continuesPrior,u=e.continuesAfter,f=e.getters,h=e.onClick,d=e.onDoubleClick,v=e.isBackgroundEvent,p=e.onKeyPress,m=e.components,y=m.event,w=m.eventWrapper,S=a.title(n),x=a.tooltip(n),b=a.end(n),O=a.start(n),A=f.eventProp(n,O,b,i),_=[g.createElement("div",{key:"1",className:"rbc-event-label"},o),g.createElement("div",{key:"2",className:"rbc-event-content"},y?g.createElement(y,{event:n,title:S}):S)],E=t.height,M=t.top,N=t.width,F=t.xOffset,V=oe(oe({},A.style),{},Et({top:tn(M),height:tn(E),width:tn(N)},s?"right":"left",tn(F)));return g.createElement(w,Object.assign({type:"time"},e),g.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:d,style:V,onKeyDown:p,title:x?(typeof o=="string"?o+": ":"")+x:void 0,className:pe(v?"rbc-background-event":"rbc-event",r,A.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},_))}var AO=function(t){var r=t.children,n=t.className,a=t.style,s=t.innerRef;return g.createElement("div",{className:n,style:a,ref:s},r)},PO=g.forwardRef(function(e,t){return g.createElement(AO,Object.assign({},e,{innerRef:t}))}),RO=["dayProp"],IO=["eventContainerWrapper","timeIndicatorWrapper"],yc=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var o=i.events,l=i.isBackgroundEvent,u=r.props,f=u.rtl,h=u.selected,d=u.accessors,v=u.localizer,p=u.getters,m=u.components,y=u.step,w=u.timeslots,S=u.dayLayoutAlgorithm,x=u.resizable,b=r,O=b.slotMetrics,A=v.messages,_=jO({events:o,accessors:d,slotMetrics:O,minimumStartDifference:Math.ceil(y*w/2),dayLayoutAlgorithm:S});return _.map(function(E,M){var N,F=E.event,V=E.style,Y=d.end(F),q=d.start(F),z=(N=d.eventId(F))!==null&&N!==void 0?N:"evt_"+M,J="eventTimeRangeFormat",D,j=O.startsBeforeDay(q),B=O.startsAfterDay(Y);j?J="eventTimeRangeEndFormat":B&&(J="eventTimeRangeStartFormat"),j&&B?D=A.allDay:D=v.format({start:q,end:Y},J);var he=j||O.startsBefore(q),T=B||O.startsAfter(Y);return g.createElement(kO,{style:V,event:F,label:D,key:z,getters:p,rtl:f,components:m,continuesPrior:he,continuesAfter:T,accessors:d,resource:r.props.resource,selected:Vn(F,h),onClick:function(P){return r._select(oe(oe(oe({},F),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),P)},onDoubleClick:function(P){return r._doubleClick(F,P)},isBackgroundEvent:l,onKeyPress:function(P){return r._keyPress(F,P)},resizable:x})})},r._selectable=function(){var i=r.containerRef.current,o=r.props,l=o.longPressThreshold,u=o.localizer,f=r._selector=new uc(function(){return i},{longPressThreshold:l}),h=function(m){var y=r.props.onSelecting,w=r.state||{},S=d(m),x=S.startDate,b=S.endDate;y&&(u.eq(w.startDate,x,"minutes")&&u.eq(w.endDate,b,"minutes")||y({start:x,end:b,resourceId:r.props.resource})===!1)||(r.state.start!==S.start||r.state.end!==S.end||r.state.selecting!==S.selecting)&&r.setState(S)},d=function(m){var y=r.slotMetrics.closestSlotFromPoint(m,It(i));r.state.selecting||(r._initialSlot=y);var w=r._initialSlot;u.lte(w,y)?y=r.slotMetrics.nextSlot(y):u.gt(w,y)&&(w=r.slotMetrics.nextSlot(w));var S=r.slotMetrics.getRange(u.min(w,y),u.max(w,y));return oe(oe({},S),{},{selecting:!0,top:"".concat(S.top,"%"),height:"".concat(S.height,"%")})},v=function(m,y){if(!_n(r.containerRef.current,m)){var w=d(m),S=w.startDate,x=w.endDate;r._selectSlot({startDate:S,endDate:x,action:y,box:m})}r.setState({selecting:!1})};f.on("selecting",h),f.on("selectStart",h),f.on("beforeSelect",function(p){if(r.props.selectable==="ignoreEvents")return!_n(r.containerRef.current,p)}),f.on("click",function(p){return v(p,"click")}),f.on("doubleClick",function(p){return v(p,"doubleClick")}),f.on("select",function(p){r.state.selecting&&(r._selectSlot(oe(oe({},r.state),{},{action:"select",bounds:p})),r.setState({selecting:!1}))}),f.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var o=i.startDate,l=i.endDate,u=i.action,f=i.bounds,h=i.box,d=o,v=[];r.props.localizer.lte(d,l);)v.push(d),d=new Date(+d+r.props.step*60*1e3);ue(r.props.onSelectSlot,{slots:v,start:o,end:l,resourceId:r.props.resource,action:u,bounds:f,box:h})},r._select=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onKeyPressEvent,o)},r.slotMetrics=Fs(r.props),r.containerRef=I.createRef(),r}return je(t,e),xe(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var s=this.props,i=s.getNow,o=s.isNow,l=s.localizer,u=s.date,f=s.min,h=s.max,d=l.neq(n.getNow(),i(),"minutes");if(n.isNow!==o||d){if(this.clearTimeIndicatorInterval(),o){var v=!d&&l.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(v)}}else o&&(l.neq(n.min,f,"minutes")||l.neq(n.max,h,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,s=n.max,i=n.getNow,o=i();if(o>=a&&o<=s){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.max,i=n.rtl,o=n.isNow,l=n.resource,u=n.accessors,f=n.localizer,h=n.getters,d=h.dayProp,v=Qe(h,RO),p=n.components,m=p.eventContainerWrapper,y=p.timeIndicatorWrapper,w=Qe(p,IO);this.slotMetrics=this.slotMetrics.update(this.props);var S=this.slotMetrics,x=this.state,b=x.selecting,O=x.top,A=x.height,_=x.startDate,E=x.endDate,M={start:_,end:E},N=d(s,l),F=N.className,V=N.style,Y={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},q=w.dayColumnWrapper||PO;return g.createElement(q,{ref:this.containerRef,date:a,style:V,className:pe(F,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:S,resource:l},S.groups.map(function(z,J){return g.createElement(gc,{key:J,group:z,resource:l,getters:v,components:w})}),g.createElement(m,{localizer:f,resource:l,accessors:u,getters:v,components:w,slotMetrics:S},g.createElement("div",{className:pe("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&g.createElement("div",{className:"rbc-slot-selection",style:{top:O,height:A}},g.createElement("span",null,f.format(M,"selectRangeFormat"))),o&&this.intervalTriggered&&g.createElement(y,Y,g.createElement("div",Y)))}}])}(g.Component);yc.defaultProps={dragThroughEvents:!0,timeslots:2};var bc=function(t){var r=t.label;return g.createElement(g.Fragment,null,r)},NO=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.handleHeaderClick=function(i,o,l){l.preventDefault(),ue(r.props.onDrillDown,[i,o])},r.renderRow=function(i){var o=r.props,l=o.events,u=o.rtl,f=o.selectable,h=o.getNow,d=o.range,v=o.getters,p=o.localizer,m=o.accessors,y=o.components,w=o.resizable,S=m.resourceId(i),x=i?l.filter(function(b){return m.resource(b)===S}):l;return g.createElement(jr,{isAllDay:!0,rtl:u,getNow:h,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:x,resourceId:S,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:y,accessors:m,getters:v,localizer:p,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:w})},r}return je(t,e),xe(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,i=s.localizer,o=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,f=s.components.header,h=f===void 0?Ls:f,d=l();return n.map(function(v,p){var m=o(v),y=i.format(v,"dayFormat"),w=u(v),S=w.className,x=w.style,b=g.createElement(h,{date:v,label:y,localizer:i});return g.createElement("div",{key:p,style:x,className:pe("rbc-header",S,i.isSameDate(v,d)&&"rbc-today")},m?g.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return a.handleHeaderClick(v,m,A)}},b):g.createElement("span",null,b))})}},{key:"render",value:function(){var n=this,a=this.props,s=a.width,i=a.rtl,o=a.resources,l=a.range,u=a.events,f=a.getNow,h=a.accessors,d=a.selectable,v=a.components,p=a.getters,m=a.scrollRef,y=a.localizer,w=a.isOverflowing,S=a.components,x=S.timeGutterHeader,b=S.resourceHeader,O=b===void 0?bc:b,A=a.resizable,_={};w&&(_[i?"marginLeft":"marginRight"]="".concat(gs()-1,"px"));var E=o.groupEvents(u);return g.createElement("div",{style:_,ref:m,className:pe("rbc-time-header",w&&"rbc-overflowing")},g.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},x&&g.createElement(x,null)),o.map(function(M,N){var F=Ye(M,2),V=F[0],Y=F[1];return g.createElement("div",{className:"rbc-time-header-content",key:V||N},Y&&g.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},g.createElement("div",{className:"rbc-header"},g.createElement(O,{index:N,label:h.resourceTitle(Y),resource:Y}))),g.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),g.createElement(jr,{isAllDay:!0,rtl:i,getNow:f,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:E.get(V)||[],resourceId:Y&&V,className:"rbc-allday-cell",selectable:d,selected:n.props.selected,components:v,accessors:h,getters:p,localizer:y,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A}))}))}}])}(g.Component),LO=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.handleHeaderClick=function(i,o,l){l.preventDefault(),ue(r.props.onDrillDown,[i,o])},r}return je(t,e),xe(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,i=s.localizer,o=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,f=s.components,h=f.header,d=h===void 0?Ls:h,v=f.resourceHeader,p=v===void 0?bc:v,m=s.resources,y=s.accessors,w=s.events,S=s.rtl,x=s.selectable,b=s.components,O=s.getters,A=s.resizable,_=l(),E=m.groupEvents(w);return n.map(function(M,N){var F=o(M),V=i.format(M,"dayFormat"),Y=u(M),q=Y.className,z=Y.style,J=g.createElement(d,{date:M,label:V,localizer:i});return g.createElement("div",{key:N,className:"rbc-time-header-content rbc-resource-grouping"},g.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},g.createElement("div",{style:z,className:pe("rbc-header",q,i.isSameDate(M,_)&&"rbc-today")},F?g.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(j){return a.handleHeaderClick(M,F,j)}},J):g.createElement("span",null,J))),g.createElement("div",{className:"rbc-row"},m.map(function(D,j){var B=Ye(D,2),he=B[0],T=B[1];return g.createElement("div",{key:"resource_".concat(he,"_").concat(j),className:pe("rbc-header",q,i.isSameDate(M,_)&&"rbc-today")},g.createElement(p,{index:j,label:y.resourceTitle(T),resource:T}))})),g.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(D,j){var B=Ye(D,2),he=B[0],T=B[1],$=(E.get(he)||[]).filter(function(P){return i.isSameDate(P.start,M)||i.isSameDate(P.end,M)});return g.createElement(jr,{key:"resource_".concat(he,"_").concat(j),isAllDay:!0,rtl:S,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[M],events:$,resourceId:T&&he,className:"rbc-allday-cell",selectable:x,selected:a.props.selected,components:b,accessors:y,getters:O,localizer:i,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:A})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,s=n.rtl,i=n.range,o=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,f={};return l&&(f[s?"marginLeft":"marginRight"]="".concat(gs()-1,"px")),g.createElement("div",{style:f,ref:o,className:pe("rbc-time-header",l&&"rbc-overflowing")},g.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&g.createElement(u,null)),this.renderHeaderCells(i))}}])}(g.Component);function FO(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var YO=function(t){var r=t.min,n=t.max,a=t.timeslots,s=t.step,i=t.localizer,o=t.getNow,l=t.resource,u=t.components,f=t.getters,h=t.gutterRef,d=u.timeGutterWrapper,v=I.useMemo(function(){return FO({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),p=v.start,m=v.end,y=I.useState(Fs({min:p,max:m,timeslots:a,step:s,localizer:i})),w=Ye(y,2),S=w[0],x=w[1];I.useEffect(function(){S&&x(S.update({min:p,max:m,timeslots:a,step:s,localizer:i}))},[p==null?void 0:p.toISOString(),m==null?void 0:m.toISOString(),a,s]);var b=I.useCallback(function(O,A){if(A)return null;var _=S.dateIsInGroup(o(),A);return g.createElement("span",{className:pe("rbc-label",_&&"rbc-now")},i.format(O,"timeGutterFormat"))},[S,i,o]);return g.createElement(d,{slotMetrics:S},g.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:h},S.groups.map(function(O,A){return g.createElement(gc,{key:A,group:O,resource:l,components:u,renderSlot:b,getters:f})})))},WO=g.forwardRef(function(e,t){return g.createElement(YO,Object.assign({gutterRef:t},e))}),xa={};function zO(e,t){return{map:function(n){return e?e.map(function(a,s){return n([t.resourceId(a),a],s)}):[n([xa,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(s){var i=t.resource(s)||xa;if(Array.isArray(i))i.forEach(function(l){var u=a.get(l)||[];u.push(s),a.set(l,u)});else{var o=a.get(i)||[];o.push(s),a.set(i,o)}}),a):(a.set(xa,n),a)}}}var ar=function(e){function t(r){var n;return De(this,t),n=Ce(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){Ei(n.rafHandle),n.rafHandle=Dl(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];ue(n.props.onKeyPressEvent,s)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];ue(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];ue(n.props.onDoubleClickEvent,s)},n.handleShowMore=function(a,s,i,o,l){var u=n.props,f=u.popup,h=u.onDrillDown,d=u.onShowMore,v=u.getDrilldownView,p=u.doShowMoreDrillDown;if(n.clearSelection(),f){var m=_l(i,n.containerRef.current);n.setState({overlay:{date:s,events:a,position:oe(oe({},m),{},{width:"200px"}),target:l}})}else p&&ue(h,[s,v(s)||re.DAY]);ue(d,[a,s,o])},n.handleSelectAllDaySlot=function(a,s){var i=n.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),ue(i,{slots:a,start:o,end:l,action:s.action,resourceId:s.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var s=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==s&&(n._updatingOverflow=!0,n.setState({isOverflowing:s},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Yl(function(a,s){return zO(a,s)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=g.createRef(),n.contentRef=g.createRef(),n.containerRef=g.createRef(),n._scrollRatio=null,n.gutterRef=I.createRef(),n}return je(t,e),xe(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Ei(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,s,i,o,l,u,f,h,d){var v=this.props,p=v.min,m=v.max,y=(i.get(a)||[]).filter(function(S){return l.inRange(n,u.start(S),u.end(S),"day")}),w=(o.get(a)||[]).filter(function(S){return l.inRange(n,u.start(S),u.end(S),"day")});return g.createElement(yc,Object.assign({},this.props,{localizer:l,min:l.merge(n,p),max:l.merge(n,m),resource:s&&a,components:f,isNow:l.isSameDate(n,d),key:"".concat(a,"-").concat(n),date:n,events:y,backgroundEvents:w,dayLayoutAlgorithm:h}))}},{key:"renderResourcesFirst",value:function(n,a,s,i,o,l,u,f,h){var d=this;return a.map(function(v){var p=Ye(v,2),m=p[0],y=p[1];return n.map(function(w){return d.renderDayColumn(w,m,y,s,i,o,l,f,h,u)})})}},{key:"renderRangeFirst",value:function(n,a,s,i,o,l,u,f,h){var d=this;return n.map(function(v){return g.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:v},a.map(function(p){var m=Ye(p,2),y=m[0],w=m[1];return g.createElement("div",{style:{flex:1},key:l.resourceId(w)},d.renderDayColumn(v,y,w,s,i,o,l,f,h,u))}))})}},{key:"renderEvents",value:function(n,a,s,i){var o=this.props,l=o.accessors,u=o.localizer,f=o.resourceGroupingLayout,h=o.components,d=o.dayLayoutAlgorithm,v=this.memoizedResources(this.props.resources,l),p=v.groupEvents(a),m=v.groupEvents(s);return f?this.renderRangeFirst(n,v,p,m,u,l,i,h,d):this.renderResourcesFirst(n,v,p,m,u,l,i,h,d)}},{key:"render",value:function(){var n,a=this.props,s=a.events,i=a.backgroundEvents,o=a.range,l=a.width,u=a.rtl,f=a.selected,h=a.getNow,d=a.resources,v=a.components,p=a.accessors,m=a.getters,y=a.localizer,w=a.min,S=a.max,x=a.showMultiDayTimes,b=a.longPressThreshold,O=a.resizable,A=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var _=o[0],E=o[o.length-1];this.slots=o.length;var M=[],N=[],F=[];s.forEach(function(Y){if(Cr(Y,_,E,p,y)){var q=p.start(Y),z=p.end(Y);p.allDay(Y)||y.startAndEndAreDateOnly(q,z)||!x&&!y.isSameDate(q,z)?M.push(Y):N.push(Y)}}),i.forEach(function(Y){Cr(Y,_,E,p,y)&&F.push(Y)}),M.sort(function(Y,q){return Ka(Y,q,p,y)});var V={range:o,events:M,width:l,rtl:u,getNow:h,localizer:y,selected:f,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(d,p),selectable:this.props.selectable,accessors:p,getters:m,components:v,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:b,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:O};return g.createElement("div",{className:pe("rbc-time-view",d&&"rbc-time-view-resources"),ref:this.containerRef},d&&d.length>1&&A?g.createElement(LO,V):g.createElement(NO,V),this.props.popup&&this.renderOverlay(),g.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},g.createElement(WO,{date:_,ref:this.gutterRef,localizer:y,min:y.merge(_,w),max:y.merge(_,S),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:v,className:"rbc-time-gutter",getters:m}),this.renderEvents(o,N,F,h())))}},{key:"renderOverlay",value:function(){var n,a,s=this,i=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,u=o.localizer,f=o.components,h=o.getters,d=o.selected,v=o.popupOffset,p=o.handleDragStart,m=function(){return s.setState({overlay:null})};return g.createElement(Ns,{overlay:i,accessors:l,localizer:u,components:f,getters:h,selected:d,popupOffset:v,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,s=(a=n.gutterRef)!==null&&a!==void 0&&a.current?Ja(n.gutterRef.current):void 0;s&&n.state.gutterWidth!==s&&n.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,s=n.max,i=n.scrollToTime,o=n.localizer,l=o.diff(o.merge(i,a),i,"milliseconds"),u=o.diff(a,s,"milliseconds");this._scrollRatio=l/u}}])}(I.Component);ar.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var HO=["date","localizer","min","max","scrollToTime","enableAutoScroll"],qn=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.min,o=i===void 0?s.startOf(new Date,"day"):i,l=n.max,u=l===void 0?s.endOf(new Date,"day"):l,f=n.scrollToTime,h=f===void 0?s.startOf(new Date,"day"):f,d=n.enableAutoScroll,v=d===void 0?!0:d,p=Qe(n,HO),m=t.range(a,{localizer:s});return g.createElement(ar,Object.assign({},p,{range:m,eventOffset:10,localizer:s,min:o,max:u,scrollToTime:h,enableAutoScroll:v}))}}])}(g.Component);qn.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};qn.navigate=function(e,t,r){var n=r.localizer;switch(t){case Pe.PREVIOUS:return n.add(e,-1,"day");case Pe.NEXT:return n.add(e,1,"day");default:return e}};qn.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var UO=["date","localizer","min","max","scrollToTime","enableAutoScroll"],St=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.min,o=i===void 0?s.startOf(new Date,"day"):i,l=n.max,u=l===void 0?s.endOf(new Date,"day"):l,f=n.scrollToTime,h=f===void 0?s.startOf(new Date,"day"):f,d=n.enableAutoScroll,v=d===void 0?!0:d,p=Qe(n,UO),m=t.range(a,this.props);return g.createElement(ar,Object.assign({},p,{range:m,eventOffset:15,localizer:s,min:o,max:u,scrollToTime:h,enableAutoScroll:v}))}}])}(g.Component);St.defaultProps=ar.defaultProps;St.navigate=function(e,t,r){var n=r.localizer;switch(t){case Pe.PREVIOUS:return n.add(e,-1,"week");case Pe.NEXT:return n.add(e,1,"week");default:return e}};St.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),s=r.endOf(e,"week",n);return r.range(a,s)};St.title=function(e,t){var r=t.localizer,n=St.range(e,{localizer:r}),a=Jl(n),s=a[0],i=a.slice(1);return r.format({start:s,end:i.pop()},"dayRangeHeaderFormat")};var GO=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ys(e,t){return St.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Gr=function(e){function t(){return De(this,t),Ce(this,t,arguments)}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.min,o=i===void 0?s.startOf(new Date,"day"):i,l=n.max,u=l===void 0?s.endOf(new Date,"day"):l,f=n.scrollToTime,h=f===void 0?s.startOf(new Date,"day"):f,d=n.enableAutoScroll,v=d===void 0?!0:d,p=Qe(n,GO),m=Ys(a,this.props);return g.createElement(ar,Object.assign({},p,{range:m,eventOffset:15,localizer:s,min:o,max:u,scrollToTime:h,enableAutoScroll:v}))}}])}(g.Component);Gr.defaultProps=ar.defaultProps;Gr.range=Ys;Gr.navigate=St.navigate;Gr.title=function(e,t){var r=t.localizer,n=Ys(e,{localizer:r}),a=Jl(n),s=a[0],i=a.slice(1);return r.format({start:s,end:i.pop()},"dayRangeHeaderFormat")};var Bn=30;function Kn(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,s=e.getters,i=e.length,o=i===void 0?Bn:i,l=e.localizer,u=e.onDoubleClickEvent,f=e.onSelectEvent,h=e.selected,d=I.useRef(null),v=I.useRef(null),p=I.useRef(null),m=I.useRef(null),y=I.useRef(null);I.useEffect(function(){x()});var w=function(E,M,N){var F=r.event,V=r.date;return M=M.filter(function(Y){return Cr(Y,l.startOf(E,"day"),l.endOf(E,"day"),t,l)}),M.map(function(Y,q){var z=t.title(Y),J=t.end(Y),D=t.start(Y),j=s.eventProp(Y,D,J,Vn(Y,h)),B=q===0&&l.format(E,"agendaDateFormat"),he=q===0?g.createElement("td",{rowSpan:M.length,className:"rbc-agenda-date-cell"},V?g.createElement(V,{day:E,label:B}):B):!1;return g.createElement("tr",{key:N+"_"+q,className:j.className,style:j.style},he,g.createElement("td",{className:"rbc-agenda-time-cell"},S(E,Y)),g.createElement("td",{className:"rbc-agenda-event-cell",onClick:function($){return f&&f(Y,$)},onDoubleClick:function($){return u&&u(Y,$)}},F?g.createElement(F,{event:Y,title:z}):z))},[])},S=function(E,M){var N="",F=r.time,V=l.messages.allDay,Y=t.end(M),q=t.start(M);return t.allDay(M)||(l.eq(q,Y)?V=l.format(q,"agendaTimeFormat"):l.isSameDate(q,Y)?V=l.format({start:q,end:Y},"agendaTimeRangeFormat"):l.isSameDate(E,q)?V=l.format(q,"agendaTimeFormat"):l.isSameDate(E,Y)&&(V=l.format(Y,"agendaTimeFormat"))),l.gt(E,q,"day")&&(N="rbc-continues-prior"),l.lt(E,Y,"day")&&(N+=" rbc-continues-after"),g.createElement("span",{className:N.trim()},F?g.createElement(F,{event:M,day:E,label:V}):V)},x=function(){if(y.current){var E=d.current,M=y.current.firstChild;if(M){var N=m.current.scrollHeight>m.current.clientHeight,F=[],V=F;F=[Ja(M.children[0]),Ja(M.children[1])],(V[0]!==F[0]||V[1]!==F[1])&&(v.current.style.width=F[0]+"px",p.current.style.width=F[1]+"px"),N?(ud(E,"rbc-header-overflowing"),E.style.marginRight=gs()+"px"):dd(E,"rbc-header-overflowing")}}},b=l.messages,O=l.add(n,o,"day"),A=l.range(n,O,"day");return a=a.filter(function(_){return Cr(_,l.startOf(n,"day"),l.endOf(O,"day"),t,l)}),a.sort(function(_,E){return+t.start(_)-+t.start(E)}),g.createElement("div",{className:"rbc-agenda-view"},a.length!==0?g.createElement(g.Fragment,null,g.createElement("table",{ref:d,className:"rbc-agenda-table"},g.createElement("thead",null,g.createElement("tr",null,g.createElement("th",{className:"rbc-header",ref:v},b.date),g.createElement("th",{className:"rbc-header",ref:p},b.time),g.createElement("th",{className:"rbc-header"},b.event)))),g.createElement("div",{className:"rbc-agenda-content",ref:m},g.createElement("table",{className:"rbc-agenda-table"},g.createElement("tbody",{ref:y},A.map(function(_,E){return w(_,a,E)}))))):g.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}Kn.range=function(e,t){var r=t.length,n=r===void 0?Bn:r,a=t.localizer,s=a.add(e,n,"day");return{start:e,end:s}};Kn.navigate=function(e,t,r){var n=r.length,a=n===void 0?Bn:n,s=r.localizer;switch(t){case Pe.PREVIOUS:return s.add(e,-a,"day");case Pe.NEXT:return s.add(e,a,"day");default:return e}};Kn.title=function(e,t){var r=t.length,n=r===void 0?Bn:r,a=t.localizer,s=a.add(e,n,"day");return a.format({start:e,end:s},"agendaHeaderFormat")};var cn=Et(Et(Et(Et(Et({},re.MONTH,Jn),re.WEEK,St),re.WORK_WEEK,Gr),re.DAY,qn),re.AGENDA,Kn),VO=["action","date","today"];function JO(e,t){var r=t.action,n=t.date,a=t.today,s=Qe(t,VO);switch(e=typeof e=="string"?cn[e]:e,r){case Pe.TODAY:n=a||new Date;break;case Pe.DATE:break;default:wr(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,s)}return n}function qO(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Cn(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var at=function(t){return function(r){return qO(r,t)}},BO=["view","date","getNow","onNavigate"],KO=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function wc(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=Ye(n[r],2),s=a[0],i=a[1];i&&t.push(s)}return t}function XO(e,t){var r=t.views,n=wc(r);return n.indexOf(e)!==-1}var Sc=function(e){function t(){var r;De(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Ce(this,t,[].concat(a)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?RT(i,function(o,l){return o[l]=cn[l]},{}):Cn(i)==="object"?R0(i,function(o,l){return o===!0?cn[l]:o}):cn},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var o=r.props,l=o.view,u=o.drilldownView,f=o.getDrilldownView;return f?f(i,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,o,l){var u=r.props,f=u.onRangeChange,h=u.localizer;f&&o.range&&f(o.range(i,{localizer:h}),l)},r.handleNavigate=function(i,o){var l=r.props,u=l.view,f=l.date,h=l.getNow,d=l.onNavigate,v=Qe(l,BO),p=r.getView(),m=h();f=JO(p,oe(oe({},v),{},{action:i,date:o||f||m,today:m})),d(f,u,i),r.handleRangeChange(f,p)},r.handleViewChange=function(i){i!==r.props.view&&XO(i,r.props)&&r.props.onView(i);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(i){ue(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,o){var l=r.props.onDrillDown;if(l){l(i,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(Pe.DATE,i)},r.state={context:t.getContext(r.props)},r}return je(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.view,s=n.toolbar,i=n.events,o=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,f=n.className,h=n.elementProps,d=n.date,v=n.getNow,p=n.length,m=n.showMultiDayTimes,y=n.onShowMore,w=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var S=Qe(n,KO);d=d||v();var x=this.getView(),b=this.state.context,O=b.accessors,A=b.components,_=b.getters,E=b.localizer,M=b.viewNames,N=A.toolbar||eO,F=x.title(d,{localizer:E,length:p});return g.createElement("div",Object.assign({},h,{className:pe(f,"rbc-calendar",S.rtl&&"rbc-rtl"),style:u}),s&&g.createElement(N,{date:d,view:a,views:M,label:F,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:E}),g.createElement(x,Object.assign({},S,{events:i,backgroundEvents:o,date:d,getNow:v,length:p,localizer:E,getters:_,components:A,accessors:O,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:y,doShowMoreDrillDown:w,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,s=n.endAccessor,i=n.allDayAccessor,o=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,f=n.resourceIdAccessor,h=n.resourceTitleAccessor,d=n.eventIdAccessor,v=n.eventPropGetter,p=n.backgroundEventPropGetter,m=n.slotPropGetter,y=n.slotGroupPropGetter,w=n.dayPropGetter,S=n.view,x=n.views,b=n.localizer,O=n.culture,A=n.messages,_=A===void 0?{}:A,E=n.components,M=E===void 0?{}:E,N=n.formats,F=N===void 0?{}:N,V=wc(x),Y=rO(_);return{viewNames:V,localizer:QT(b,O,F,Y),getters:{eventProp:function(){return v&&v.apply(void 0,arguments)||{}},backgroundEventProp:function(){return p&&p.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return y&&y.apply(void 0,arguments)||{}},dayProp:function(){return w&&w.apply(void 0,arguments)||{}}},components:M0(M[S]||{},_T(M,V),{eventWrapper:Ke,backgroundEventWrapper:Ke,eventContainerWrapper:Ke,dateCellWrapper:Ke,weekWrapper:Ke,timeSlotWrapper:Ke,timeGutterWrapper:Ke,timeIndicatorWrapper:Ke}),accessors:{start:at(a),end:at(s),allDay:at(i),tooltip:at(o),title:at(l),resource:at(u),resourceId:at(f),resourceTitle:at(h),eventId:at(d)}}}}])}(g.Component);Sc.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:re.MONTH,views:[re.MONTH,re.WEEK,re.DAY,re.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:re.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var ZO=sl(Sc,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),QO=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"MMMM DD",r)+" – "+n.format(s,n.eq(a,s,"month")?"DD":"MMMM DD",r)},eE=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"L",r)+" – "+n.format(s,"L",r)},Ta=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"LT",r)+" – "+n.format(s,"LT",r)},tE=function(t,r,n){var a=t.start;return n.format(a,"LT",r)+" – "},rE=function(t,r,n){var a=t.end;return" – "+n.format(a,"LT",r)},nE={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Ta,eventTimeRangeFormat:Ta,eventTimeRangeStartFormat:tE,eventTimeRangeEndFormat:rE,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:QO,agendaHeaderFormat:eE,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Ta};function pt(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function aE(e){var t=function($,P){return P?$.locale(P):$};function r(T){return e(T).toDate().getTimezoneOffset()}function n(T,$){var P,W,H=e(T).local(),ie=e($).local();if(!e.tz)return H.toDate().getTimezoneOffset()-ie.toDate().getTimezoneOffset();var be=(P=H==null||(W=H._z)===null||W===void 0?void 0:W.name)!==null&&P!==void 0?P:e.tz.guess(),Se=e.tz.zone(be).utcOffset(+H),xt=e.tz.zone(be).utcOffset(+ie);return Se-xt}function a(T){var $=e(T).startOf("day");return n($,T)}function s(T,$,P){var W=pt(P),H=W?e(T).startOf(W):e(T),ie=W?e($).startOf(W):e($);return[H,ie,W]}function i(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,$=arguments.length>1?arguments[1]:void 0,P=pt($);return P?e(T).startOf(P).toDate():e(T).toDate()}function o(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,$=arguments.length>1?arguments[1]:void 0,P=pt($);return P?e(T).endOf(P).toDate():e(T).toDate()}function l(T,$,P){var W=s(T,$,P),H=Ye(W,3),ie=H[0],be=H[1],Se=H[2];return ie.isSame(be,Se)}function u(T,$,P){return!l(T,$,P)}function f(T,$,P){var W=s(T,$,P),H=Ye(W,3),ie=H[0],be=H[1],Se=H[2];return ie.isAfter(be,Se)}function h(T,$,P){var W=s(T,$,P),H=Ye(W,3),ie=H[0],be=H[1],Se=H[2];return ie.isBefore(be,Se)}function d(T,$,P){var W=s(T,$,P),H=Ye(W,3),ie=H[0],be=H[1],Se=H[2];return ie.isSameOrBefore(be,Se)}function v(T,$,P){var W=s(T,$,P),H=Ye(W,3),ie=H[0],be=H[1],Se=H[2];return ie.isSameOrBefore(be,Se)}function p(T,$,P){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",H=pt(W),ie=e(T),be=e($),Se=e(P);return ie.isBetween(be,Se,H,"[]")}function m(T,$){var P=e(T),W=e($),H=e.min(P,W);return H.toDate()}function y(T,$){var P=e(T),W=e($),H=e.max(P,W);return H.toDate()}function w(T,$){if(!T&&!$)return null;var P=e($).format("HH:mm:ss"),W=e(T).startOf("day").format("MM/DD/YYYY");return e("".concat(W," ").concat(P),"MM/DD/YYYY HH:mm:ss").toDate()}function S(T,$,P){var W=pt(P);return e(T).add($,W).toDate()}function x(T,$){for(var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=pt(P),H=e(T).toDate(),ie=[];v(H,$);)ie.push(H),H=S(H,1,W);return ie}function b(T,$){var P=pt($),W=i(T,P);return l(W,T)?W:S(W,1,P)}function O(T,$){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",W=pt(P),H=e(T),ie=e($);return ie.diff(H,W)}function A(T){var $=e(T);return $.minutes()}function _(T){var $=T?e.localeData(T):e.localeData();return $?$.firstDayOfWeek():0}function E(T){return e(T).startOf("month").startOf("week").toDate()}function M(T){return e(T).endOf("month").endOf("week").toDate()}function N(T){for(var $=E(T),P=M(T),W=[];v($,P);)W.push($),$=S($,1,"d");return W}function F(T,$,P){return e(T).startOf("day").minute($+P).toDate()}function V(T,$){return O(T,$,"minutes")}function Y(T){var $=e(T).startOf("day"),P=e(T);return P.diff($,"minutes")+a(T)}function q(T,$){var P=e(T),W=e($);return P.isBefore(W,"day")}function z(T,$,P){var W=e($),H=e(P);return W.isSameOrAfter(H,"minutes")}function J(T,$){var P=e(T),W=e($),H=e.duration(W.diff(P));return H.days()}function D(T){var $=T.evtA,P=$.start,W=$.end,H=$.allDay,ie=T.evtB,be=ie.start,Se=ie.end,xt=ie.allDay,Kr=+i(P,"day")-+i(be,"day"),la=J(P,W),ca=J(be,Se);return Kr||ca-la||!!xt-!!H||+P-+be||+W-+Se}function j(T){var $=T.event,P=$.start,W=$.end,H=T.range,ie=H.start,be=H.end,Se=e(P).startOf("day"),xt=e(W),Kr=e(ie),la=e(be),ca=Se.isSameOrBefore(la,"day"),hu=!Se.isSame(xt,"minutes"),vu=hu?xt.isAfter(Kr,"minutes"):xt.isSameOrAfter(Kr,"minutes");return ca&&vu}function B(T,$){var P=e(T),W=e($);return P.isSame(W,"day")}function he(){var T=new Date,$=/-/.test(T.toString())?"-":"",P=T.getTimezoneOffset(),W=Number("".concat($).concat(Math.abs(P))),H=e().utcOffset();return H>W?1:0}return new ZT({formats:nE,firstOfWeek:_,firstVisibleDay:E,lastVisibleDay:M,visibleDays:N,format:function($,P,W){return t(e($),W).format(P)},lt:h,lte:v,gt:f,gte:d,eq:l,neq:u,merge:w,inRange:p,startOf:i,endOf:o,range:x,add:S,diff:O,ceil:b,min:m,max:y,minutes:A,getSlotDate:F,getTimezoneOffset:r,getDstOffset:n,getTotalMin:V,getMinutesFromMidnight:Y,continuesPrior:q,continuesAfter:z,sortEvents:D,inEventRange:j,isSameDate:B,daySpan:J,browserTZOffset:he})}function sE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var _c;function R(){return _c.apply(null,arguments)}function iE(e){_c=e}function Ve(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Ct(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ws(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ee(e,t))return!1;return!0}function Ae(e){return e===void 0}function ft(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Vr(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Dc(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function yt(e,t){for(var r in t)ee(t,r)&&(e[r]=t[r]);return ee(t,"toString")&&(e.toString=t.toString),ee(t,"valueOf")&&(e.valueOf=t.valueOf),e}function rt(e,t,r,n){return Vc(e,t,r,n,!0).utc()}function oE(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function K(e){return e._pf==null&&(e._pf=oE()),e._pf}var Za;Array.prototype.some?Za=Array.prototype.some:Za=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function zs(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=K(e),r=Za.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Xn(e){var t=rt(NaN);return e!=null?yt(K(t),e):K(t).userInvalidated=!0,t}var Ao=R.momentProperties=[],Oa=!1;function Hs(e,t){var r,n,a,s=Ao.length;if(Ae(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ae(t._i)||(e._i=t._i),Ae(t._f)||(e._f=t._f),Ae(t._l)||(e._l=t._l),Ae(t._strict)||(e._strict=t._strict),Ae(t._tzm)||(e._tzm=t._tzm),Ae(t._isUTC)||(e._isUTC=t._isUTC),Ae(t._offset)||(e._offset=t._offset),Ae(t._pf)||(e._pf=K(t)),Ae(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)n=Ao[r],a=t[n],Ae(a)||(e[n]=a);return e}function Jr(e){Hs(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Oa===!1&&(Oa=!0,R.updateOffset(this),Oa=!1)}function Je(e){return e instanceof Jr||e!=null&&e._isAMomentObject!=null}function xc(e){R.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ze(e,t){var r=!0;return yt(function(){if(R.deprecationHandler!=null&&R.deprecationHandler(null,e),r){var n=[],a,s,i,o=arguments.length;for(s=0;s<o;s++){if(a="",typeof arguments[s]=="object"){a+=`
[`+s+"] ";for(i in arguments[0])ee(arguments[0],i)&&(a+=i+": "+arguments[0][i]+", ");a=a.slice(0,-2)}else a=arguments[s];n.push(a)}xc(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var Po={};function Tc(e,t){R.deprecationHandler!=null&&R.deprecationHandler(e,t),Po[e]||(xc(t),Po[e]=!0)}R.suppressDeprecationWarnings=!1;R.deprecationHandler=null;function nt(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function lE(e){var t,r;for(r in e)ee(e,r)&&(t=e[r],nt(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Qa(e,t){var r=yt({},e),n;for(n in t)ee(t,n)&&(Ct(e[n])&&Ct(t[n])?(r[n]={},yt(r[n],e[n]),yt(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)ee(e,n)&&!ee(t,n)&&Ct(e[n])&&(r[n]=yt({},r[n]));return r}function Us(e){e!=null&&this.set(e)}var es;Object.keys?es=Object.keys:es=function(e){var t,r=[];for(t in e)ee(e,t)&&r.push(t);return r};var cE={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function uE(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return nt(n)?n.call(t,r):n}function et(e,t,r){var n=""+Math.abs(e),a=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var Gs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ea={},Ut={};function G(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(Ut[e]=a),t&&(Ut[t[0]]=function(){return et(a.apply(this,arguments),t[1],t[2])}),r&&(Ut[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function dE(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function fE(e){var t=e.match(Gs),r,n;for(r=0,n=t.length;r<n;r++)Ut[t[r]]?t[r]=Ut[t[r]]:t[r]=dE(t[r]);return function(a){var s="",i;for(i=0;i<n;i++)s+=nt(t[i])?t[i].call(a,e):t[i];return s}}function un(e,t){return e.isValid()?(t=Oc(t,e.localeData()),Ea[t]=Ea[t]||fE(t),Ea[t](e)):e.localeData().invalidDate()}function Oc(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(rn.lastIndex=0;r>=0&&rn.test(e);)e=e.replace(rn,n),rn.lastIndex=0,r-=1;return e}var hE={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vE(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Gs).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var mE="Invalid date";function pE(){return this._invalidDate}var gE="%d",yE=/\d{1,2}/;function bE(e){return this._ordinal.replace("%d",e)}var wE={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function SE(e,t,r,n){var a=this._relativeTime[r];return nt(a)?a(e,t,r,n):a.replace(/%d/i,e)}function _E(e,t){var r=this._relativeTime[e>0?"future":"past"];return nt(r)?r(t):r.replace(/%s/i,t)}var Ro={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function He(e){return typeof e=="string"?Ro[e]||Ro[e.toLowerCase()]:void 0}function Vs(e){var t={},r,n;for(n in e)ee(e,n)&&(r=He(n),r&&(t[r]=e[n]));return t}var DE={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function xE(e){var t=[],r;for(r in e)ee(e,r)&&t.push({unit:r,priority:DE[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var Ec=/\d/,Re=/\d\d/,Mc=/\d{3}/,Js=/\d{4}/,Zn=/[+-]?\d{6}/,fe=/\d\d?/,$c=/\d\d\d\d?/,Cc=/\d\d\d\d\d\d?/,Qn=/\d{1,3}/,qs=/\d{1,4}/,ea=/[+-]?\d{1,6}/,sr=/\d+/,ta=/[+-]?\d+/,TE=/Z|[+-]\d\d:?\d\d/gi,ra=/Z|[+-]\d\d(?::?\d\d)?/gi,OE=/[+-]?\d+(\.\d{1,3})?/,qr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ir=/^[1-9]\d?/,Bs=/^([1-9]\d|\d)/,Dn;Dn={};function L(e,t,r){Dn[e]=nt(t)?t:function(n,a){return n&&r?r:t}}function EE(e,t){return ee(Dn,e)?Dn[e](t._strict,t._locale):new RegExp(ME(e))}function ME(e){return ut(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,s){return r||n||a||s}))}function ut(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Le(t)),r}var ts={};function se(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),ft(t)&&(n=function(s,i){i[t]=Z(s)}),a=e.length,r=0;r<a;r++)ts[e[r]]=n}function Br(e,t){se(e,function(r,n,a,s){a._w=a._w||{},t(r,a._w,a,s)})}function $E(e,t,r){t!=null&&ee(ts,e)&&ts[e](t,r._a,r,e)}function na(e){return e%4===0&&e%100!==0||e%400===0}var $e=0,lt=1,Ze=2,_e=3,Ue=4,ct=5,Mt=6,CE=7,jE=8;G("Y",0,0,function(){var e=this.year();return e<=9999?et(e,4):"+"+e});G(0,["YY",2],0,function(){return this.year()%100});G(0,["YYYY",4],0,"year");G(0,["YYYYY",5],0,"year");G(0,["YYYYYY",6,!0],0,"year");L("Y",ta);L("YY",fe,Re);L("YYYY",qs,Js);L("YYYYY",ea,Zn);L("YYYYYY",ea,Zn);se(["YYYYY","YYYYYY"],$e);se("YYYY",function(e,t){t[$e]=e.length===2?R.parseTwoDigitYear(e):Z(e)});se("YY",function(e,t){t[$e]=R.parseTwoDigitYear(e)});se("Y",function(e,t){t[$e]=parseInt(e,10)});function gr(e){return na(e)?366:365}R.parseTwoDigitYear=function(e){return Z(e)+(Z(e)>68?1900:2e3)};var jc=or("FullYear",!0);function kE(){return na(this.year())}function or(e,t){return function(r){return r!=null?(kc(this,e,r),R.updateOffset(this,t),this):kr(this,e)}}function kr(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function kc(e,t,r){var n,a,s,i,o;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,i=e.month(),o=e.date(),o=o===29&&i===1&&!na(s)?28:o,a?n.setUTCFullYear(s,i,o):n.setFullYear(s,i,o)}}function AE(e){return e=He(e),nt(this[e])?this[e]():this}function PE(e,t){if(typeof e=="object"){e=Vs(e);var r=xE(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=He(e),nt(this[e]))return this[e](t);return this}function RE(e,t){return(e%t+t)%t}var ge;Array.prototype.indexOf?ge=Array.prototype.indexOf:ge=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ks(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=RE(t,12);return e+=(t-r)/12,r===1?na(e)?29:28:31-r%7%2}G("M",["MM",2],"Mo",function(){return this.month()+1});G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});G("MMMM",0,0,function(e){return this.localeData().months(this,e)});L("M",fe,ir);L("MM",fe,Re);L("MMM",function(e,t){return t.monthsShortRegex(e)});L("MMMM",function(e,t){return t.monthsRegex(e)});se(["M","MM"],function(e,t){t[lt]=Z(e)-1});se(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[lt]=a:K(r).invalidMonth=e});var IE="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ac="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,NE=qr,LE=qr;function FE(e,t){return e?Ve(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pc).test(t)?"format":"standalone"][e.month()]:Ve(this._months)?this._months:this._months.standalone}function YE(e,t){return e?Ve(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pc.test(t)?"format":"standalone"][e.month()]:Ve(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function WE(e,t,r){var n,a,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=rt([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?t==="MMM"?(a=ge.call(this._shortMonthsParse,i),a!==-1?a:null):(a=ge.call(this._longMonthsParse,i),a!==-1?a:null):t==="MMM"?(a=ge.call(this._shortMonthsParse,i),a!==-1?a:(a=ge.call(this._longMonthsParse,i),a!==-1?a:null)):(a=ge.call(this._longMonthsParse,i),a!==-1?a:(a=ge.call(this._shortMonthsParse,i),a!==-1?a:null))}function zE(e,t,r){var n,a,s;if(this._monthsParseExact)return WE.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=rt([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function Rc(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Z(t);else if(t=e.localeData().monthsParse(t),!ft(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Ks(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function Ic(e){return e!=null?(Rc(this,e),R.updateOffset(this,!0),this):kr(this,"Month")}function HE(){return Ks(this.year(),this.month())}function UE(e){return this._monthsParseExact?(ee(this,"_monthsRegex")||Nc.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ee(this,"_monthsShortRegex")||(this._monthsShortRegex=NE),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function GE(e){return this._monthsParseExact?(ee(this,"_monthsRegex")||Nc.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ee(this,"_monthsRegex")||(this._monthsRegex=LE),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Nc(){function e(l,u){return u.length-l.length}var t=[],r=[],n=[],a,s,i,o;for(a=0;a<12;a++)s=rt([2e3,a]),i=ut(this.monthsShort(s,"")),o=ut(this.months(s,"")),t.push(i),r.push(o),n.push(o),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function VE(e,t,r,n,a,s,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,n,a,s,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,n,a,s,i),o}function Ar(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xn(e,t,r){var n=7+t-r,a=(7+Ar(e,0,n).getUTCDay()-t)%7;return-a+n-1}function Lc(e,t,r,n,a){var s=(7+r-n)%7,i=xn(e,n,a),o=1+7*(t-1)+s+i,l,u;return o<=0?(l=e-1,u=gr(l)+o):o>gr(e)?(l=e+1,u=o-gr(e)):(l=e,u=o),{year:l,dayOfYear:u}}function Pr(e,t,r){var n=xn(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,s,i;return a<1?(i=e.year()-1,s=a+dt(i,t,r)):a>dt(e.year(),t,r)?(s=a-dt(e.year(),t,r),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function dt(e,t,r){var n=xn(e,t,r),a=xn(e+1,t,r);return(gr(e)-n+a)/7}G("w",["ww",2],"wo","week");G("W",["WW",2],"Wo","isoWeek");L("w",fe,ir);L("ww",fe,Re);L("W",fe,ir);L("WW",fe,Re);Br(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Z(e)});function JE(e){return Pr(e,this._week.dow,this._week.doy).week}var qE={dow:0,doy:6};function BE(){return this._week.dow}function KE(){return this._week.doy}function XE(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ZE(e){var t=Pr(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}G("d",0,"do","day");G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});G("e",0,0,"weekday");G("E",0,0,"isoWeekday");L("d",fe);L("e",fe);L("E",fe);L("dd",function(e,t){return t.weekdaysMinRegex(e)});L("ddd",function(e,t){return t.weekdaysShortRegex(e)});L("dddd",function(e,t){return t.weekdaysRegex(e)});Br(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:K(r).invalidWeekday=e});Br(["d","e","E"],function(e,t,r,n){t[n]=Z(e)});function QE(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function eM(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Xs(e,t){return e.slice(t,7).concat(e.slice(0,t))}var tM="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rM="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),nM=qr,aM=qr,sM=qr;function iM(e,t){var r=Ve(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Xs(r,this._week.dow):e?r[e.day()]:r}function oM(e){return e===!0?Xs(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function lM(e){return e===!0?Xs(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function cM(e,t,r){var n,a,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=rt([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?t==="dddd"?(a=ge.call(this._weekdaysParse,i),a!==-1?a:null):t==="ddd"?(a=ge.call(this._shortWeekdaysParse,i),a!==-1?a:null):(a=ge.call(this._minWeekdaysParse,i),a!==-1?a:null):t==="dddd"?(a=ge.call(this._weekdaysParse,i),a!==-1||(a=ge.call(this._shortWeekdaysParse,i),a!==-1)?a:(a=ge.call(this._minWeekdaysParse,i),a!==-1?a:null)):t==="ddd"?(a=ge.call(this._shortWeekdaysParse,i),a!==-1||(a=ge.call(this._weekdaysParse,i),a!==-1)?a:(a=ge.call(this._minWeekdaysParse,i),a!==-1?a:null)):(a=ge.call(this._minWeekdaysParse,i),a!==-1||(a=ge.call(this._weekdaysParse,i),a!==-1)?a:(a=ge.call(this._shortWeekdaysParse,i),a!==-1?a:null))}function uM(e,t,r){var n,a,s;if(this._weekdaysParseExact)return cM.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=rt([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function dM(e){if(!this.isValid())return e!=null?this:NaN;var t=kr(this,"Day");return e!=null?(e=QE(e,this.localeData()),this.add(e-t,"d")):t}function fM(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function hM(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=eM(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function vM(e){return this._weekdaysParseExact?(ee(this,"_weekdaysRegex")||Zs.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ee(this,"_weekdaysRegex")||(this._weekdaysRegex=nM),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function mM(e){return this._weekdaysParseExact?(ee(this,"_weekdaysRegex")||Zs.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ee(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=aM),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function pM(e){return this._weekdaysParseExact?(ee(this,"_weekdaysRegex")||Zs.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ee(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sM),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zs(){function e(f,h){return h.length-f.length}var t=[],r=[],n=[],a=[],s,i,o,l,u;for(s=0;s<7;s++)i=rt([2e3,1]).day(s),o=ut(this.weekdaysMin(i,"")),l=ut(this.weekdaysShort(i,"")),u=ut(this.weekdays(i,"")),t.push(o),r.push(l),n.push(u),a.push(o),a.push(l),a.push(u);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qs(){return this.hours()%12||12}function gM(){return this.hours()||24}G("H",["HH",2],0,"hour");G("h",["hh",2],0,Qs);G("k",["kk",2],0,gM);G("hmm",0,0,function(){return""+Qs.apply(this)+et(this.minutes(),2)});G("hmmss",0,0,function(){return""+Qs.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)});G("Hmm",0,0,function(){return""+this.hours()+et(this.minutes(),2)});G("Hmmss",0,0,function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)});function Yc(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Yc("a",!0);Yc("A",!1);function Wc(e,t){return t._meridiemParse}L("a",Wc);L("A",Wc);L("H",fe,Bs);L("h",fe,ir);L("k",fe,ir);L("HH",fe,Re);L("hh",fe,Re);L("kk",fe,Re);L("hmm",$c);L("hmmss",Cc);L("Hmm",$c);L("Hmmss",Cc);se(["H","HH"],_e);se(["k","kk"],function(e,t,r){var n=Z(e);t[_e]=n===24?0:n});se(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});se(["h","hh"],function(e,t,r){t[_e]=Z(e),K(r).bigHour=!0});se("hmm",function(e,t,r){var n=e.length-2;t[_e]=Z(e.substr(0,n)),t[Ue]=Z(e.substr(n)),K(r).bigHour=!0});se("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[_e]=Z(e.substr(0,n)),t[Ue]=Z(e.substr(n,2)),t[ct]=Z(e.substr(a)),K(r).bigHour=!0});se("Hmm",function(e,t,r){var n=e.length-2;t[_e]=Z(e.substr(0,n)),t[Ue]=Z(e.substr(n))});se("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[_e]=Z(e.substr(0,n)),t[Ue]=Z(e.substr(n,2)),t[ct]=Z(e.substr(a))});function yM(e){return(e+"").toLowerCase().charAt(0)==="p"}var bM=/[ap]\.?m?\.?/i,wM=or("Hours",!0);function SM(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var zc={calendar:cE,longDateFormat:hE,invalidDate:mE,ordinal:gE,dayOfMonthOrdinalParse:yE,relativeTime:wE,months:IE,monthsShort:Ac,week:qE,weekdays:tM,weekdaysMin:rM,weekdaysShort:Fc,meridiemParse:bM},ve={},dr={},Rr;function _M(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function Io(e){return e&&e.toLowerCase().replace("_","-")}function DM(e){for(var t=0,r,n,a,s;t<e.length;){for(s=Io(e[t]).split("-"),r=s.length,n=Io(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=aa(s.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&_M(s,n)>=r-1)break;r--}t++}return Rr}function xM(e){return!!(e&&e.match("^[^/\\\\]*$"))}function aa(e){var t=null,r;if(ve[e]===void 0&&typeof module<"u"&&module&&module.exports&&xM(e))try{t=Rr._abbr,r=sE,r("./locale/"+e),wt(t)}catch{ve[e]=null}return ve[e]}function wt(e,t){var r;return e&&(Ae(t)?r=vt(e):r=ei(e,t),r?Rr=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Rr._abbr}function ei(e,t){if(t!==null){var r,n=zc;if(t.abbr=e,ve[e]!=null)Tc("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ve[e]._config;else if(t.parentLocale!=null)if(ve[t.parentLocale]!=null)n=ve[t.parentLocale]._config;else if(r=aa(t.parentLocale),r!=null)n=r._config;else return dr[t.parentLocale]||(dr[t.parentLocale]=[]),dr[t.parentLocale].push({name:e,config:t}),null;return ve[e]=new Us(Qa(n,t)),dr[e]&&dr[e].forEach(function(a){ei(a.name,a.config)}),wt(e),ve[e]}else return delete ve[e],null}function TM(e,t){if(t!=null){var r,n,a=zc;ve[e]!=null&&ve[e].parentLocale!=null?ve[e].set(Qa(ve[e]._config,t)):(n=aa(e),n!=null&&(a=n._config),t=Qa(a,t),n==null&&(t.abbr=e),r=new Us(t),r.parentLocale=ve[e],ve[e]=r),wt(e)}else ve[e]!=null&&(ve[e].parentLocale!=null?(ve[e]=ve[e].parentLocale,e===wt()&&wt(e)):ve[e]!=null&&delete ve[e]);return ve[e]}function vt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Rr;if(!Ve(e)){if(t=aa(e),t)return t;e=[e]}return DM(e)}function OM(){return es(ve)}function ti(e){var t,r=e._a;return r&&K(e).overflow===-2&&(t=r[lt]<0||r[lt]>11?lt:r[Ze]<1||r[Ze]>Ks(r[$e],r[lt])?Ze:r[_e]<0||r[_e]>24||r[_e]===24&&(r[Ue]!==0||r[ct]!==0||r[Mt]!==0)?_e:r[Ue]<0||r[Ue]>59?Ue:r[ct]<0||r[ct]>59?ct:r[Mt]<0||r[Mt]>999?Mt:-1,K(e)._overflowDayOfYear&&(t<$e||t>Ze)&&(t=Ze),K(e)._overflowWeeks&&t===-1&&(t=CE),K(e)._overflowWeekday&&t===-1&&(t=jE),K(e).overflow=t),e}var EM=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MM=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$M=/Z|[+-]\d\d(?::?\d\d)?/,nn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ma=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],CM=/^\/?Date\((-?\d+)/i,jM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,kM={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Hc(e){var t,r,n=e._i,a=EM.exec(n)||MM.exec(n),s,i,o,l,u=nn.length,f=Ma.length;if(a){for(K(e).iso=!0,t=0,r=u;t<r;t++)if(nn[t][1].exec(a[1])){i=nn[t][0],s=nn[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(a[3]){for(t=0,r=f;t<r;t++)if(Ma[t][1].exec(a[3])){o=(a[2]||" ")+Ma[t][0];break}if(o==null){e._isValid=!1;return}}if(!s&&o!=null){e._isValid=!1;return}if(a[4])if($M.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=i+(o||"")+(l||""),ni(e)}else e._isValid=!1}function AM(e,t,r,n,a,s){var i=[PM(e),Ac.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return s&&i.push(parseInt(s,10)),i}function PM(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function RM(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function IM(e,t,r){if(e){var n=Fc.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return K(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function NM(e,t,r){if(e)return kM[e];if(t)return 0;var n=parseInt(r,10),a=n%100,s=(n-a)/100;return s*60+a}function Uc(e){var t=jM.exec(RM(e._i)),r;if(t){if(r=AM(t[4],t[3],t[2],t[5],t[6],t[7]),!IM(t[1],r,e))return;e._a=r,e._tzm=NM(t[8],t[9],t[10]),e._d=Ar.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),K(e).rfc2822=!0}else e._isValid=!1}function LM(e){var t=CM.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Hc(e),e._isValid===!1)delete e._isValid;else return;if(Uc(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:R.createFromInputFallback(e)}R.createFromInputFallback=ze("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Wt(e,t,r){return e??t??r}function FM(e){var t=new Date(R.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ri(e){var t,r,n=[],a,s,i;if(!e._d){for(a=FM(e),e._w&&e._a[Ze]==null&&e._a[lt]==null&&YM(e),e._dayOfYear!=null&&(i=Wt(e._a[$e],a[$e]),(e._dayOfYear>gr(i)||e._dayOfYear===0)&&(K(e)._overflowDayOfYear=!0),r=Ar(i,0,e._dayOfYear),e._a[lt]=r.getUTCMonth(),e._a[Ze]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[_e]===24&&e._a[Ue]===0&&e._a[ct]===0&&e._a[Mt]===0&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?Ar:VE).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(K(e).weekdayMismatch=!0)}}function YM(e){var t,r,n,a,s,i,o,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,i=4,r=Wt(t.GG,e._a[$e],Pr(de(),1,4).year),n=Wt(t.W,1),a=Wt(t.E,1),(a<1||a>7)&&(l=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,u=Pr(de(),s,i),r=Wt(t.gg,e._a[$e],u.year),n=Wt(t.w,u.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s),n<1||n>dt(r,s,i)?K(e)._overflowWeeks=!0:l!=null?K(e)._overflowWeekday=!0:(o=Lc(r,n,a,s,i),e._a[$e]=o.year,e._dayOfYear=o.dayOfYear)}R.ISO_8601=function(){};R.RFC_2822=function(){};function ni(e){if(e._f===R.ISO_8601){Hc(e);return}if(e._f===R.RFC_2822){Uc(e);return}e._a=[],K(e).empty=!0;var t=""+e._i,r,n,a,s,i,o=t.length,l=0,u,f;for(a=Oc(e._f,e._locale).match(Gs)||[],f=a.length,r=0;r<f;r++)s=a[r],n=(t.match(EE(s,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&K(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),l+=n.length),Ut[s]?(n?K(e).empty=!1:K(e).unusedTokens.push(s),$E(s,n,e)):e._strict&&!n&&K(e).unusedTokens.push(s);K(e).charsLeftOver=o-l,t.length>0&&K(e).unusedInput.push(t),e._a[_e]<=12&&K(e).bigHour===!0&&e._a[_e]>0&&(K(e).bigHour=void 0),K(e).parsedDateParts=e._a.slice(0),K(e).meridiem=e._meridiem,e._a[_e]=WM(e._locale,e._a[_e],e._meridiem),u=K(e).era,u!==null&&(e._a[$e]=e._locale.erasConvertYear(u,e._a[$e])),ri(e),ti(e)}function WM(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function zM(e){var t,r,n,a,s,i,o=!1,l=e._f.length;if(l===0){K(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)s=0,i=!1,t=Hs({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],ni(t),zs(t)&&(i=!0),s+=K(t).charsLeftOver,s+=K(t).unusedTokens.length*10,K(t).score=s,o?s<n&&(n=s,r=t):(n==null||s<n||i)&&(n=s,r=t,i&&(o=!0));yt(e,r||t)}function HM(e){if(!e._d){var t=Vs(e._i),r=t.day===void 0?t.date:t.day;e._a=Dc([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),ri(e)}}function UM(e){var t=new Jr(ti(Gc(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gc(e){var t=e._i,r=e._f;return e._locale=e._locale||vt(e._l),t===null||r===void 0&&t===""?Xn({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Je(t)?new Jr(ti(t)):(Vr(t)?e._d=t:Ve(r)?zM(e):r?ni(e):GM(e),zs(e)||(e._d=null),e))}function GM(e){var t=e._i;Ae(t)?e._d=new Date(R.now()):Vr(t)?e._d=new Date(t.valueOf()):typeof t=="string"?LM(e):Ve(t)?(e._a=Dc(t.slice(0),function(r){return parseInt(r,10)}),ri(e)):Ct(t)?HM(e):ft(t)?e._d=new Date(t):R.createFromInputFallback(e)}function Vc(e,t,r,n,a){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Ct(e)&&Ws(e)||Ve(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=r,s._i=e,s._f=t,s._strict=n,UM(s)}function de(e,t,r,n){return Vc(e,t,r,n,!1)}var VM=ze("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=de.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Xn()}),JM=ze("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=de.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Xn()});function Jc(e,t){var r,n;if(t.length===1&&Ve(t[0])&&(t=t[0]),!t.length)return de();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function qM(){var e=[].slice.call(arguments,0);return Jc("isBefore",e)}function BM(){var e=[].slice.call(arguments,0);return Jc("isAfter",e)}var KM=function(){return Date.now?Date.now():+new Date},fr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function XM(e){var t,r=!1,n,a=fr.length;for(t in e)if(ee(e,t)&&!(ge.call(fr,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[fr[n]]){if(r)return!1;parseFloat(e[fr[n]])!==Z(e[fr[n]])&&(r=!0)}return!0}function ZM(){return this._isValid}function QM(){return Be(NaN)}function sa(e){var t=Vs(e),r=t.year||0,n=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,f=t.millisecond||0;this._isValid=XM(t),this._milliseconds=+f+u*1e3+l*6e4+o*1e3*60*60,this._days=+i+s*7,this._months=+a+n*3+r*12,this._data={},this._locale=vt(),this._bubble()}function dn(e){return e instanceof sa}function rs(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function e$(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0,i;for(i=0;i<n;i++)(r&&e[i]!==t[i]||!r&&Z(e[i])!==Z(t[i]))&&s++;return s+a}function qc(e,t){G(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+et(~~(r/60),2)+t+et(~~r%60,2)})}qc("Z",":");qc("ZZ","");L("Z",ra);L("ZZ",ra);se(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=ai(ra,e)});var t$=/([\+\-]|\d\d)/gi;function ai(e,t){var r=(t||"").match(e),n,a,s;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(t$)||["-",0,0],s=+(a[1]*60)+Z(a[2]),s===0?0:a[0]==="+"?s:-s)}function si(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Je(e)||Vr(e)?e.valueOf():de(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),R.updateOffset(r,!1),r):de(e).local()}function ns(e){return-Math.round(e._d.getTimezoneOffset())}R.updateOffset=function(){};function r$(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ai(ra,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=ns(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?Xc(this,Be(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,R.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:ns(this)}function n$(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function a$(e){return this.utcOffset(0,e)}function s$(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ns(this),"m")),this}function i$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ai(TE,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function o$(e){return this.isValid()?(e=e?de(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function l$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function c$(){if(!Ae(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Hs(e,this),e=Gc(e),e._a?(t=e._isUTC?rt(e._a):de(e._a),this._isDSTShifted=this.isValid()&&e$(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function u$(){return this.isValid()?!this._isUTC:!1}function d$(){return this.isValid()?this._isUTC:!1}function Bc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var f$=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,h$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Be(e,t){var r=e,n=null,a,s,i;return dn(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:ft(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=f$.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:Z(n[Ze])*a,h:Z(n[_e])*a,m:Z(n[Ue])*a,s:Z(n[ct])*a,ms:Z(rs(n[Mt]*1e3))*a}):(n=h$.exec(e))?(a=n[1]==="-"?-1:1,r={y:Tt(n[2],a),M:Tt(n[3],a),w:Tt(n[4],a),d:Tt(n[5],a),h:Tt(n[6],a),m:Tt(n[7],a),s:Tt(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=v$(de(r.from),de(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new sa(r),dn(e)&&ee(e,"_locale")&&(s._locale=e._locale),dn(e)&&ee(e,"_isValid")&&(s._isValid=e._isValid),s}Be.fn=sa.prototype;Be.invalid=QM;function Tt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function No(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function v$(e,t){var r;return e.isValid()&&t.isValid()?(t=si(t,e),e.isBefore(t)?r=No(e,t):(r=No(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Kc(e,t){return function(r,n){var a,s;return n!==null&&!isNaN(+n)&&(Tc(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),a=Be(r,n),Xc(this,a,e),this}}function Xc(e,t,r,n){var a=t._milliseconds,s=rs(t._days),i=rs(t._months);e.isValid()&&(n=n??!0,i&&Rc(e,kr(e,"Month")+i*r),s&&kc(e,"Date",kr(e,"Date")+s*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&R.updateOffset(e,s||i))}var m$=Kc(1,"add"),p$=Kc(-1,"subtract");function Zc(e){return typeof e=="string"||e instanceof String}function g$(e){return Je(e)||Vr(e)||Zc(e)||ft(e)||b$(e)||y$(e)||e===null||e===void 0}function y$(e){var t=Ct(e)&&!Ws(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,s,i=n.length;for(a=0;a<i;a+=1)s=n[a],r=r||ee(e,s);return t&&r}function b$(e){var t=Ve(e),r=!1;return t&&(r=e.filter(function(n){return!ft(n)&&Zc(e)}).length===0),t&&r}function w$(e){var t=Ct(e)&&!Ws(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,s;for(a=0;a<n.length;a+=1)s=n[a],r=r||ee(e,s);return t&&r}function S$(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function _$(e,t){arguments.length===1&&(arguments[0]?g$(arguments[0])?(e=arguments[0],t=void 0):w$(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||de(),n=si(r,this).startOf("day"),a=R.calendarFormat(this,n)||"sameElse",s=t&&(nt(t[a])?t[a].call(this,r):t[a]);return this.format(s||this.localeData().calendar(a,this,de(r)))}function D$(){return new Jr(this)}function x$(e,t){var r=Je(e)?e:de(e);return this.isValid()&&r.isValid()?(t=He(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function T$(e,t){var r=Je(e)?e:de(e);return this.isValid()&&r.isValid()?(t=He(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function O$(e,t,r,n){var a=Je(e)?e:de(e),s=Je(t)?t:de(t);return this.isValid()&&a.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function E$(e,t){var r=Je(e)?e:de(e),n;return this.isValid()&&r.isValid()?(t=He(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function M$(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $$(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function C$(e,t,r){var n,a,s;if(!this.isValid())return NaN;if(n=si(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=He(t),t){case"year":s=fn(this,n)/12;break;case"month":s=fn(this,n);break;case"quarter":s=fn(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return r?s:Le(s)}function fn(e,t){if(e.date()<t.date())return-fn(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,s;return t-n<0?(a=e.clone().add(r-1,"months"),s=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),s=(t-n)/(a-n)),-(r+s)||0}R.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";R.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function j$(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function k$(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?un(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):nt(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",un(r,"Z")):un(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function A$(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(r+n+a+s)}function P$(e){e||(e=this.isUtc()?R.defaultFormatUtc:R.defaultFormat);var t=un(this,e);return this.localeData().postformat(t)}function R$(e,t){return this.isValid()&&(Je(e)&&e.isValid()||de(e).isValid())?Be({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function I$(e){return this.from(de(),e)}function N$(e,t){return this.isValid()&&(Je(e)&&e.isValid()||de(e).isValid())?Be({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function L$(e){return this.to(de(),e)}function Qc(e){var t;return e===void 0?this._locale._abbr:(t=vt(e),t!=null&&(this._locale=t),this)}var eu=ze("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function tu(){return this._locale}var Tn=1e3,Gt=60*Tn,On=60*Gt,ru=(365*400+97)*24*On;function Vt(e,t){return(e%t+t)%t}function nu(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-ru:new Date(e,t,r).valueOf()}function au(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-ru:Date.UTC(e,t,r)}function F$(e){var t,r;if(e=He(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?au:nu,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Vt(t+(this._isUTC?0:this.utcOffset()*Gt),On);break;case"minute":t=this._d.valueOf(),t-=Vt(t,Gt);break;case"second":t=this._d.valueOf(),t-=Vt(t,Tn);break}return this._d.setTime(t),R.updateOffset(this,!0),this}function Y$(e){var t,r;if(e=He(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?au:nu,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=On-Vt(t+(this._isUTC?0:this.utcOffset()*Gt),On)-1;break;case"minute":t=this._d.valueOf(),t+=Gt-Vt(t,Gt)-1;break;case"second":t=this._d.valueOf(),t+=Tn-Vt(t,Tn)-1;break}return this._d.setTime(t),R.updateOffset(this,!0),this}function W$(){return this._d.valueOf()-(this._offset||0)*6e4}function z$(){return Math.floor(this.valueOf()/1e3)}function H$(){return new Date(this.valueOf())}function U$(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function G$(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function V$(){return this.isValid()?this.toISOString():null}function J$(){return zs(this)}function q$(){return yt({},K(this))}function B$(){return K(this).overflow}function K$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}G("N",0,0,"eraAbbr");G("NN",0,0,"eraAbbr");G("NNN",0,0,"eraAbbr");G("NNNN",0,0,"eraName");G("NNNNN",0,0,"eraNarrow");G("y",["y",1],"yo","eraYear");G("y",["yy",2],0,"eraYear");G("y",["yyy",3],0,"eraYear");G("y",["yyyy",4],0,"eraYear");L("N",ii);L("NN",ii);L("NNN",ii);L("NNNN",oC);L("NNNNN",lC);se(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?K(r).era=a:K(r).invalidEra=e});L("y",sr);L("yy",sr);L("yyy",sr);L("yyyy",sr);L("yo",cC);se(["y","yy","yyy","yyyy"],$e);se(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[$e]=r._locale.eraYearOrdinalParse(e,a):t[$e]=parseInt(e,10)});function X$(e,t){var r,n,a,s=this._eras||vt("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":a=R(s[r].since).startOf("day"),s[r].since=a.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=R(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf();break}}return s}function Z$(e,t,r){var n,a,s=this.eras(),i,o,l;for(e=e.toUpperCase(),n=0,a=s.length;n<a;++n)if(i=s[n].name.toUpperCase(),o=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[n];break;case"NNNN":if(i===e)return s[n];break;case"NNNNN":if(l===e)return s[n];break}else if([i,o,l].indexOf(e)>=0)return s[n]}function Q$(e,t){var r=e.since<=e.until?1:-1;return t===void 0?R(e.since).year():R(e.since).year()+(t-e.offset)*r}function eC(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function tC(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function rC(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function nC(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-R(a[e].since).year())*r+a[e].offset;return this.year()}function aC(e){return ee(this,"_erasNameRegex")||oi.call(this),e?this._erasNameRegex:this._erasRegex}function sC(e){return ee(this,"_erasAbbrRegex")||oi.call(this),e?this._erasAbbrRegex:this._erasRegex}function iC(e){return ee(this,"_erasNarrowRegex")||oi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ii(e,t){return t.erasAbbrRegex(e)}function oC(e,t){return t.erasNameRegex(e)}function lC(e,t){return t.erasNarrowRegex(e)}function cC(e,t){return t._eraYearOrdinalRegex||sr}function oi(){var e=[],t=[],r=[],n=[],a,s,i,o,l,u=this.eras();for(a=0,s=u.length;a<s;++a)i=ut(u[a].name),o=ut(u[a].abbr),l=ut(u[a].narrow),t.push(i),e.push(o),r.push(l),n.push(i),n.push(o),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}G(0,["gg",2],0,function(){return this.weekYear()%100});G(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ia(e,t){G(0,[e,e.length],0,t)}ia("gggg","weekYear");ia("ggggg","weekYear");ia("GGGG","isoWeekYear");ia("GGGGG","isoWeekYear");L("G",ta);L("g",ta);L("GG",fe,Re);L("gg",fe,Re);L("GGGG",qs,Js);L("gggg",qs,Js);L("GGGGG",ea,Zn);L("ggggg",ea,Zn);Br(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Z(e)});Br(["gg","GG"],function(e,t,r,n){t[n]=R.parseTwoDigitYear(e)});function uC(e){return su.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function dC(e){return su.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function fC(){return dt(this.year(),1,4)}function hC(){return dt(this.isoWeekYear(),1,4)}function vC(){var e=this.localeData()._week;return dt(this.year(),e.dow,e.doy)}function mC(){var e=this.localeData()._week;return dt(this.weekYear(),e.dow,e.doy)}function su(e,t,r,n,a){var s;return e==null?Pr(this,n,a).year:(s=dt(e,n,a),t>s&&(t=s),pC.call(this,e,t,r,n,a))}function pC(e,t,r,n,a){var s=Lc(e,t,r,n,a),i=Ar(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}G("Q",0,"Qo","quarter");L("Q",Ec);se("Q",function(e,t){t[lt]=(Z(e)-1)*3});function gC(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}G("D",["DD",2],"Do","date");L("D",fe,ir);L("DD",fe,Re);L("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});se(["D","DD"],Ze);se("Do",function(e,t){t[Ze]=Z(e.match(fe)[0])});var iu=or("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear");L("DDD",Qn);L("DDDD",Mc);se(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Z(e)});function yC(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}G("m",["mm",2],0,"minute");L("m",fe,Bs);L("mm",fe,Re);se(["m","mm"],Ue);var bC=or("Minutes",!1);G("s",["ss",2],0,"second");L("s",fe,Bs);L("ss",fe,Re);se(["s","ss"],ct);var wC=or("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)});G(0,["SS",2],0,function(){return~~(this.millisecond()/10)});G(0,["SSS",3],0,"millisecond");G(0,["SSSS",4],0,function(){return this.millisecond()*10});G(0,["SSSSS",5],0,function(){return this.millisecond()*100});G(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});G(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});G(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});G(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});L("S",Qn,Ec);L("SS",Qn,Re);L("SSS",Qn,Mc);var bt,ou;for(bt="SSSS";bt.length<=9;bt+="S")L(bt,sr);function SC(e,t){t[Mt]=Z(("0."+e)*1e3)}for(bt="S";bt.length<=9;bt+="S")se(bt,SC);ou=or("Milliseconds",!1);G("z",0,0,"zoneAbbr");G("zz",0,0,"zoneName");function _C(){return this._isUTC?"UTC":""}function DC(){return this._isUTC?"Coordinated Universal Time":""}var C=Jr.prototype;C.add=m$;C.calendar=_$;C.clone=D$;C.diff=C$;C.endOf=Y$;C.format=P$;C.from=R$;C.fromNow=I$;C.to=N$;C.toNow=L$;C.get=AE;C.invalidAt=B$;C.isAfter=x$;C.isBefore=T$;C.isBetween=O$;C.isSame=E$;C.isSameOrAfter=M$;C.isSameOrBefore=$$;C.isValid=J$;C.lang=eu;C.locale=Qc;C.localeData=tu;C.max=JM;C.min=VM;C.parsingFlags=q$;C.set=PE;C.startOf=F$;C.subtract=p$;C.toArray=U$;C.toObject=G$;C.toDate=H$;C.toISOString=k$;C.inspect=A$;typeof Symbol<"u"&&Symbol.for!=null&&(C[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});C.toJSON=V$;C.toString=j$;C.unix=z$;C.valueOf=W$;C.creationData=K$;C.eraName=eC;C.eraNarrow=tC;C.eraAbbr=rC;C.eraYear=nC;C.year=jc;C.isLeapYear=kE;C.weekYear=uC;C.isoWeekYear=dC;C.quarter=C.quarters=gC;C.month=Ic;C.daysInMonth=HE;C.week=C.weeks=XE;C.isoWeek=C.isoWeeks=ZE;C.weeksInYear=vC;C.weeksInWeekYear=mC;C.isoWeeksInYear=fC;C.isoWeeksInISOWeekYear=hC;C.date=iu;C.day=C.days=dM;C.weekday=fM;C.isoWeekday=hM;C.dayOfYear=yC;C.hour=C.hours=wM;C.minute=C.minutes=bC;C.second=C.seconds=wC;C.millisecond=C.milliseconds=ou;C.utcOffset=r$;C.utc=a$;C.local=s$;C.parseZone=i$;C.hasAlignedHourOffset=o$;C.isDST=l$;C.isLocal=u$;C.isUtcOffset=d$;C.isUtc=Bc;C.isUTC=Bc;C.zoneAbbr=_C;C.zoneName=DC;C.dates=ze("dates accessor is deprecated. Use date instead.",iu);C.months=ze("months accessor is deprecated. Use month instead",Ic);C.years=ze("years accessor is deprecated. Use year instead",jc);C.zone=ze("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",n$);C.isDSTShifted=ze("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",c$);function xC(e){return de(e*1e3)}function TC(){return de.apply(null,arguments).parseZone()}function lu(e){return e}var te=Us.prototype;te.calendar=uE;te.longDateFormat=vE;te.invalidDate=pE;te.ordinal=bE;te.preparse=lu;te.postformat=lu;te.relativeTime=SE;te.pastFuture=_E;te.set=lE;te.eras=X$;te.erasParse=Z$;te.erasConvertYear=Q$;te.erasAbbrRegex=sC;te.erasNameRegex=aC;te.erasNarrowRegex=iC;te.months=FE;te.monthsShort=YE;te.monthsParse=zE;te.monthsRegex=GE;te.monthsShortRegex=UE;te.week=JE;te.firstDayOfYear=KE;te.firstDayOfWeek=BE;te.weekdays=iM;te.weekdaysMin=lM;te.weekdaysShort=oM;te.weekdaysParse=uM;te.weekdaysRegex=vM;te.weekdaysShortRegex=mM;te.weekdaysMinRegex=pM;te.isPM=yM;te.meridiem=SM;function En(e,t,r,n){var a=vt(),s=rt().set(n,t);return a[r](s,e)}function cu(e,t,r){if(ft(e)&&(t=e,e=void 0),e=e||"",t!=null)return En(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=En(e,n,r,"month");return a}function li(e,t,r,n){typeof e=="boolean"?(ft(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,ft(t)&&(r=t,t=void 0),t=t||"");var a=vt(),s=e?a._week.dow:0,i,o=[];if(r!=null)return En(t,(r+s)%7,n,"day");for(i=0;i<7;i++)o[i]=En(t,(i+s)%7,n,"day");return o}function OC(e,t){return cu(e,t,"months")}function EC(e,t){return cu(e,t,"monthsShort")}function MC(e,t,r){return li(e,t,r,"weekdays")}function $C(e,t,r){return li(e,t,r,"weekdaysShort")}function CC(e,t,r){return li(e,t,r,"weekdaysMin")}wt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Z(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});R.lang=ze("moment.lang is deprecated. Use moment.locale instead.",wt);R.langData=ze("moment.langData is deprecated. Use moment.localeData instead.",vt);var st=Math.abs;function jC(){var e=this._data;return this._milliseconds=st(this._milliseconds),this._days=st(this._days),this._months=st(this._months),e.milliseconds=st(e.milliseconds),e.seconds=st(e.seconds),e.minutes=st(e.minutes),e.hours=st(e.hours),e.months=st(e.months),e.years=st(e.years),this}function uu(e,t,r,n){var a=Be(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function kC(e,t){return uu(this,e,t,1)}function AC(e,t){return uu(this,e,t,-1)}function Lo(e){return e<0?Math.floor(e):Math.ceil(e)}function PC(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,s,i,o,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Lo(as(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=Le(e/1e3),n.seconds=a%60,s=Le(a/60),n.minutes=s%60,i=Le(s/60),n.hours=i%24,t+=Le(i/24),l=Le(du(t)),r+=l,t-=Lo(as(l)),o=Le(r/12),r%=12,n.days=t,n.months=r,n.years=o,this}function du(e){return e*4800/146097}function as(e){return e*146097/4800}function RC(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=He(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+du(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(as(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function mt(e){return function(){return this.as(e)}}var fu=mt("ms"),IC=mt("s"),NC=mt("m"),LC=mt("h"),FC=mt("d"),YC=mt("w"),WC=mt("M"),zC=mt("Q"),HC=mt("y"),UC=fu;function GC(){return Be(this)}function VC(e){return e=He(e),this.isValid()?this[e+"s"]():NaN}function Lt(e){return function(){return this.isValid()?this._data[e]:NaN}}var JC=Lt("milliseconds"),qC=Lt("seconds"),BC=Lt("minutes"),KC=Lt("hours"),XC=Lt("days"),ZC=Lt("months"),QC=Lt("years");function ej(){return Le(this.days()/7)}var it=Math.round,Ht={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function tj(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function rj(e,t,r,n){var a=Be(e).abs(),s=it(a.as("s")),i=it(a.as("m")),o=it(a.as("h")),l=it(a.as("d")),u=it(a.as("M")),f=it(a.as("w")),h=it(a.as("y")),d=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||i<=1&&["m"]||i<r.m&&["mm",i]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||f<=1&&["w"]||f<r.w&&["ww",f]),d=d||u<=1&&["M"]||u<r.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=t,d[3]=+e>0,d[4]=n,tj.apply(null,d)}function nj(e){return e===void 0?it:typeof e=="function"?(it=e,!0):!1}function aj(e,t){return Ht[e]===void 0?!1:t===void 0?Ht[e]:(Ht[e]=t,e==="s"&&(Ht.ss=t-1),!0)}function sj(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Ht,a,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Ht,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),s=rj(this,!r,n,a),r&&(s=a.pastFuture(+this,s)),a.postformat(s)}var $a=Math.abs;function Ft(e){return(e>0)-(e<0)||+e}function oa(){if(!this.isValid())return this.localeData().invalidDate();var e=$a(this._milliseconds)/1e3,t=$a(this._days),r=$a(this._months),n,a,s,i,o=this.asSeconds(),l,u,f,h;return o?(n=Le(e/60),a=Le(n/60),e%=60,n%=60,s=Le(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=Ft(this._months)!==Ft(o)?"-":"",f=Ft(this._days)!==Ft(o)?"-":"",h=Ft(this._milliseconds)!==Ft(o)?"-":"",l+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(t?f+t+"D":"")+(a||n||e?"T":"")+(a?h+a+"H":"")+(n?h+n+"M":"")+(e?h+i+"S":"")):"P0D"}var Q=sa.prototype;Q.isValid=ZM;Q.abs=jC;Q.add=kC;Q.subtract=AC;Q.as=RC;Q.asMilliseconds=fu;Q.asSeconds=IC;Q.asMinutes=NC;Q.asHours=LC;Q.asDays=FC;Q.asWeeks=YC;Q.asMonths=WC;Q.asQuarters=zC;Q.asYears=HC;Q.valueOf=UC;Q._bubble=PC;Q.clone=GC;Q.get=VC;Q.milliseconds=JC;Q.seconds=qC;Q.minutes=BC;Q.hours=KC;Q.days=XC;Q.weeks=ej;Q.months=ZC;Q.years=QC;Q.humanize=sj;Q.toISOString=oa;Q.toString=oa;Q.toJSON=oa;Q.locale=Qc;Q.localeData=tu;Q.toIsoString=ze("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",oa);Q.lang=eu;G("X",0,0,"unix");G("x",0,0,"valueOf");L("x",ta);L("X",OE);se("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});se("x",function(e,t,r){r._d=new Date(Z(e))});//! moment.js
R.version="2.30.1";iE(de);R.fn=C;R.min=qM;R.max=BM;R.now=KM;R.utc=rt;R.unix=xC;R.months=OC;R.isDate=Vr;R.locale=wt;R.invalid=Xn;R.duration=Be;R.isMoment=Je;R.weekdays=MC;R.parseZone=TC;R.localeData=vt;R.isDuration=dn;R.monthsShort=EC;R.weekdaysMin=CC;R.defineLocale=ei;R.updateLocale=TM;R.locales=OM;R.weekdaysShort=$C;R.normalizeUnits=He;R.relativeTimeRounding=nj;R.relativeTimeThreshold=aj;R.calendarFormat=S$;R.prototype=C;R.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const ij=aE(R),Pj=()=>{const e=Mn(),[t,r]=I.useState(re.MONTH),[n,a]=I.useState(new Date),[s,i]=I.useState(null),[o,l]=I.useState(!1),[u,f]=I.useState(""),[h,d]=I.useState(""),{startDate:v,endDate:p}=I.useMemo(()=>{const z=R(n).startOf(t===re.MONTH?"month":"week").subtract(7,"days"),J=R(n).endOf(t===re.MONTH?"month":"week").add(7,"days");return{startDate:z.toISOString(),endDate:J.toISOString()}},[n,t]),{data:m,isLoading:y,refetch:w}=bd({start:v,end:p,filters:{...u&&{customerId:u},...h&&{status:[h]}}}),{data:S}=Wo({limit:100});Bo();const[x]=ls(),b=m||[],O=I.useCallback(z=>{i(z),l(!0)},[]),A=I.useCallback(({start:z})=>{const J=R(z).format("YYYY-MM-DDTHH:mm");e(`/jobs/new?startDate=${J}`)},[e]),_=I.useCallback((z,J,D)=>{a(z),J!==t&&r(J)},[t]),E=I.useCallback(z=>{r(z)},[]),M=()=>{a(new Date)},N=()=>{const z=R(n).subtract(1,t===re.MONTH?"month":t===re.WEEK?"week":"day").toDate();a(z)},F=()=>{const z=R(n).add(1,t===re.MONTH?"month":t===re.WEEK?"week":"day").toDate();a(z)},V=I.useCallback(z=>{const{status:J,priority:D}=z.resource,j=br({endAt:z.end.toISOString(),status:J,startAt:z.start.toISOString()});let B=Ra(J),he=Ia(D);return j&&(B="#f44336"),{style:{backgroundColor:B,borderColor:he,borderWidth:"2px",borderStyle:"solid",color:"white",fontWeight:"bold",fontSize:"12px",opacity:J==="archived"||J==="cancelled"?.6:1}}},[]),Y=async(z,J)=>{try{await x({id:z,status:J}).unwrap(),l(!1),w()}catch(D){console.error("Failed to update job status:",D)}},q=()=>{switch(t){case re.MONTH:return R(n).format("MMMM YYYY");case re.WEEK:return`Week of ${R(n).startOf("week").format("MMM D, YYYY")}`;case re.DAY:return R(n).format("dddd, MMMM D, YYYY");default:return""}};return c.jsxs(X,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[c.jsxs(me,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[c.jsx(U,{variant:"h4",component:"h1",children:"Job Calendar"}),c.jsxs(me,{direction:"row",spacing:1,children:[c.jsxs(vr,{size:"small",sx:{minWidth:120},children:[c.jsx(mr,{children:"Customer"}),c.jsxs(pr,{value:u,onChange:z=>f(z.target.value),label:"Customer",children:[c.jsx(ye,{value:"",children:"All Customers"}),S==null?void 0:S.customers.map(z=>c.jsx(ye,{value:z.id,children:yr(z)},z.id))]})]}),c.jsxs(vr,{size:"small",sx:{minWidth:120},children:[c.jsx(mr,{children:"Status"}),c.jsxs(pr,{value:h,onChange:z=>d(z.target.value),label:"Status",children:[c.jsx(ye,{value:"",children:"All Statuses"}),c.jsx(ye,{value:"active",children:"Active"}),c.jsx(ye,{value:"completed",children:"Completed"}),c.jsx(ye,{value:"on_hold",children:"On Hold"}),c.jsx(ye,{value:"cancelled",children:"Cancelled"})]})]}),c.jsx(an,{title:"Refresh",children:c.jsx(ot,{onClick:()=>w(),children:c.jsx(Ku,{})})})]})]}),c.jsx(hn,{sx:{mb:2,p:2},children:c.jsxs(me,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[c.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[c.jsx(ot,{onClick:N,children:c.jsx(Xu,{})}),c.jsx(U,{variant:"h6",sx:{minWidth:200,textAlign:"center"},children:q()}),c.jsx(ot,{onClick:F,children:c.jsx(Zu,{})}),c.jsx(ae,{startIcon:c.jsx(Qu,{}),variant:"outlined",onClick:M,size:"small",children:"Today"})]}),c.jsxs(me,{direction:"row",spacing:1,children:[c.jsx(ae,{startIcon:c.jsx(ed,{}),variant:t===re.MONTH?"contained":"outlined",onClick:()=>r(re.MONTH),size:"small",children:"Month"}),c.jsx(ae,{startIcon:c.jsx(td,{}),variant:t===re.WEEK?"contained":"outlined",onClick:()=>r(re.WEEK),size:"small",children:"Week"}),c.jsx(ae,{startIcon:c.jsx(rd,{}),variant:t===re.DAY?"contained":"outlined",onClick:()=>r(re.DAY),size:"small",children:"Day"})]})]})}),c.jsx(hn,{sx:{flex:1,p:2},children:c.jsx(ZO,{localizer:ij,events:b,startAccessor:"start",endAccessor:"end",view:t,onView:E,date:n,onNavigate:_,onSelectEvent:O,onSelectSlot:A,eventPropGetter:V,selectable:!0,popup:!0,showMultiDayTimes:!0,step:30,timeslots:2,min:new Date(0,0,0,7,0,0),max:new Date(0,0,0,19,0,0),style:{height:"100%",minHeight:600},components:{toolbar:()=>null}})}),c.jsx(nd,{color:"primary","aria-label":"add job",sx:{position:"fixed",bottom:16,right:16},onClick:()=>e("/jobs/new"),children:c.jsx(ss,{})}),c.jsx(ja,{open:o,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:s&&c.jsxs(c.Fragment,{children:[c.jsx(ka,{children:c.jsxs(me,{direction:"row",spacing:1,alignItems:"center",children:[c.jsx(U,{variant:"h6",children:s.title}),c.jsx(Fe,{label:s.resource.status.toUpperCase(),sx:{backgroundColor:Ra(s.resource.status),color:"white"},size:"small"}),c.jsx(Fe,{label:s.resource.priority.toUpperCase(),sx:{backgroundColor:Ia(s.resource.priority),color:"white"},size:"small"})]})}),c.jsx(Aa,{children:c.jsxs(me,{spacing:2,children:[c.jsxs(X,{children:[c.jsx(U,{variant:"subtitle2",color:"text.secondary",children:"Customer"}),c.jsx(U,{variant:"body1",children:s.resource.customer?yr(s.resource.customer):"No Customer"})]}),c.jsxs(X,{children:[c.jsx(U,{variant:"subtitle2",color:"text.secondary",children:"Schedule"}),c.jsxs(U,{variant:"body1",children:[R(s.start).format("MMMM D, YYYY h:mm A")," - ",R(s.end).format("h:mm A")]})]})]})}),c.jsxs(Pa,{children:[c.jsx(ae,{onClick:()=>l(!1),children:"Close"}),c.jsx(ae,{onClick:()=>e(`/jobs/${s.resource.jobId}`),variant:"outlined",children:"View Details"}),c.jsx(ae,{onClick:()=>e(`/jobs/${s.resource.jobId}/edit`),variant:"outlined",children:"Edit Job"}),s.resource.status==="active"&&c.jsx(ae,{onClick:()=>Y(s.resource.jobId,"completed"),variant:"contained",color:"success",children:"Complete"})]})]})})]})};export{Pj as JobCalendar,Aj as JobDetail,kj as JobForm,jj as JobList};
//# sourceMappingURL=index-c682a75d.js.map
